@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================================================================
 * MV-DESIGN-PRO — Industrial Design System Base
 * PowerFactory/ETAP Grade UI Foundation
 * ========================================================================= */

@layer base {
  html {
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    font-size: 14px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  body {
    @apply bg-canvas-bg text-gray-900;
    overflow: hidden;
  }

  /* Scrollbar styling — industrial thin */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-chrome-300 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-chrome-400;
  }

  /* Selection color */
  ::selection {
    @apply bg-blue-200 text-blue-900;
  }
}

@layer components {
  /* =========================================================================
   * Project Tree Empty Node Styling
   * ========================================================================= */

  [data-testid="project-tree"] [data-empty="true"] {
    @apply opacity-60;
  }

  [data-testid="project-tree"] [data-empty="true"] > * {
    @apply text-gray-400;
  }

  .tree-node-empty {
    @apply opacity-60 text-gray-400;
  }

  .tree-node-empty .tree-node-label {
    @apply text-gray-400;
  }

  .tree-node-empty .tree-node-count {
    @apply text-gray-300;
  }

  [data-testid^="tree-node-container-"]:has(span:where(:empty, [class*="text-gray-400"]):last-child) {
    /* Placeholder — depends on DOM structure */
  }

  /* =========================================================================
   * Industrial Toolbar Buttons
   * ========================================================================= */

  .ind-btn {
    @apply inline-flex items-center justify-center gap-1.5
           px-3 py-1.5 text-xs font-medium
           rounded-ind
           transition-colors duration-150
           select-none;
  }

  .ind-btn-primary {
    @apply ind-btn bg-ind-600 text-white hover:bg-ind-500 active:bg-ind-700
           disabled:bg-chrome-500 disabled:text-chrome-300 disabled:cursor-not-allowed;
  }

  .ind-btn-action {
    @apply ind-btn bg-status-info text-white hover:bg-blue-700 active:bg-blue-800
           disabled:bg-chrome-500 disabled:text-chrome-300 disabled:cursor-not-allowed;
  }

  .ind-btn-calculate {
    @apply ind-btn bg-status-ok text-white hover:bg-emerald-700 active:bg-emerald-800
           font-semibold
           disabled:bg-chrome-500 disabled:text-chrome-300 disabled:cursor-not-allowed;
  }

  .ind-btn-ghost {
    @apply ind-btn text-chrome-300 hover:text-white hover:bg-chrome-600;
  }

  .ind-btn-toolbar {
    @apply ind-btn text-chrome-200 bg-chrome-700 hover:bg-chrome-600
           disabled:opacity-40 disabled:cursor-not-allowed;
  }

  /* =========================================================================
   * Industrial Panel Chrome
   * ========================================================================= */

  .ind-panel-header {
    @apply flex items-center justify-between
           px-3 py-2
           bg-chrome-50 border-b border-chrome-200
           text-xs font-semibold text-chrome-600
           uppercase tracking-wider
           select-none;
  }

  .ind-panel-section {
    @apply border-b border-chrome-100 last:border-b-0;
  }

  /* =========================================================================
   * Industrial Form Controls
   * ========================================================================= */

  .ind-input {
    @apply w-full px-2.5 py-1.5
           text-sm text-gray-900
           bg-white border border-chrome-200 rounded-ind
           focus:outline-none focus:ring-1 focus:ring-ind-500 focus:border-ind-500
           placeholder:text-chrome-300
           disabled:bg-chrome-50 disabled:text-chrome-400;
  }

  .ind-select {
    @apply ind-input appearance-none cursor-pointer
           bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22%236b7280%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20d%3D%22M5.293%207.293a1%201%200%20011.414%200L10%2010.586l3.293-3.293a1%201%200%20111.414%201.414l-4%204a1%201%200%2001-1.414%200l-4-4a1%201%200%20010-1.414z%22%20clip-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E')]
           bg-[length:1.25rem_1.25rem]
           bg-[position:right_0.375rem_center]
           bg-no-repeat
           pr-8;
  }

  .ind-label {
    @apply text-xs font-medium text-chrome-500 uppercase tracking-wider;
  }

  /* =========================================================================
   * Industrial Status Badges
   * ========================================================================= */

  .ind-badge {
    @apply inline-flex items-center gap-1.5
           px-2 py-0.5 rounded
           text-xs font-medium;
  }

  .ind-badge-ok {
    @apply ind-badge bg-status-ok-light text-emerald-800;
  }

  .ind-badge-warn {
    @apply ind-badge bg-status-warn-light text-amber-800;
  }

  .ind-badge-error {
    @apply ind-badge bg-status-error-light text-red-800;
  }

  .ind-badge-info {
    @apply ind-badge bg-status-info-light text-blue-800;
  }

  /* =========================================================================
   * Status Dots
   * ========================================================================= */

  .ind-dot {
    @apply inline-block w-2 h-2 rounded-full;
  }

  .ind-dot-ok { @apply ind-dot bg-status-ok; }
  .ind-dot-warn { @apply ind-dot bg-status-warn; }
  .ind-dot-error { @apply ind-dot bg-status-error; }
  .ind-dot-none { @apply ind-dot bg-status-none; }

  /* =========================================================================
   * Canonical SLD Typography — ETAP/IEC
   * ========================================================================= */

  .sld-node-label {
    font-family: 'JetBrains Mono', 'Fira Code', monospace;
    font-size: 11px;
    fill: #374151;
    font-weight: 600;
  }

  .sld-segment-label {
    font-family: 'JetBrains Mono', monospace;
    font-size: 10px;
    fill: #1D4ED8;
    font-weight: 500;
  }

  .sld-segment-params {
    font-family: 'JetBrains Mono', monospace;
    font-size: 9px;
    fill: #6B7280;
  }

  .sld-apparatus-label {
    font-family: 'Inter', system-ui, sans-serif;
    font-size: 10px;
    fill: #374151;
  }

  .sld-apparatus-params {
    font-family: 'JetBrains Mono', monospace;
    font-size: 9px;
    fill: #6B7280;
  }

  .sld-station-title {
    font-family: 'Inter', system-ui, sans-serif;
    font-size: 11px;
    fill: #111827;
    font-weight: 700;
  }

  .sld-iec-designation {
    font-family: 'JetBrains Mono', monospace;
    font-size: 10px;
    fill: #DC2626;
    font-weight: 600;
  }

  /* =========================================================================
   * Wizard Form Styles — Industrial Grade
   * ========================================================================= */

  .wizard-field-row {
    @apply flex items-center gap-3 mb-2.5;
  }

  .wizard-field-label {
    @apply w-48 text-sm font-medium text-chrome-600 flex-shrink-0;
  }

  .wizard-field-value {
    @apply flex-1;
  }

  .wizard-card {
    @apply p-3 border border-chrome-200 rounded-md bg-white;
  }

  .wizard-card-header {
    @apply flex items-center justify-between mb-2 pb-2 border-b border-chrome-100;
  }

  /* =========================================================================
   * Divider
   * ========================================================================= */

  .ind-divider-v {
    @apply w-px h-5 bg-chrome-600 mx-1.5;
  }

  .ind-divider-h {
    @apply h-px w-full bg-chrome-200 my-2;
  }
}
