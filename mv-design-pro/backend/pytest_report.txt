============================= test session starts =============================
platform win32 -- Python 3.11.9, pytest-7.4.4, pluggy-1.6.0 -- C:\Users\radek\AppData\Local\pypoetry\Cache\virtualenvs\mv-design-pro-backend-uyFpXeJO-py3.11\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\radek\Desktop\Atigravity\MV-Design-PRO\mv-design-pro\backend
configfile: pyproject.toml
plugins: anyio-4.12.1, asyncio-0.23.8, cov-4.1.0
asyncio: mode=Mode.AUTO
collecting ... collected 1463 items

tests/test_action_envelope.py::test_valid_envelope_passes_validation PASSED [  0%]
tests/test_action_envelope.py::test_missing_required_fields_rejected PASSED [  0%]
tests/test_action_envelope.py::test_unknown_action_type_rejected PASSED  [  0%]
tests/test_action_envelope.py::test_missing_payload_keys_rejected PASSED [  0%]
tests/test_action_envelope.py::test_referential_integrity_errors_rejected PASSED [  0%]
tests/test_action_envelope.py::test_validator_is_deterministic PASSED    [  0%]
tests/test_apply_action_snapshot.py::test_create_node_creates_new_snapshot_and_preserves_parent PASSED [  0%]
tests/test_apply_action_snapshot.py::test_snapshot_serialization_is_deterministic PASSED [  0%]
tests/test_apply_action_snapshot.py::test_two_actions_create_snapshot_chain PASSED [  0%]
tests/test_apply_action_snapshot.py::test_snapshot_actions_preserve_network_model_id PASSED [  0%]
tests/test_branch.py::TestLineBranchImpedance::test_impedance_basic PASSED [  0%]
tests/test_branch.py::TestLineBranchAdmittance::test_admittance_us_to_s_conversion PASSED [  0%]
tests/test_branch.py::TestTransformerBranchImpedancePU::test_impedance_pu_at_rated_base PASSED [  0%]
tests/test_branch.py::TestTransformerBranchImpedancePU::test_impedance_pu_scaled_to_different_base PASSED [  0%]
tests/test_branch.py::TestBranchFromDict::test_from_dict_with_string_branch_type PASSED [  1%]
tests/test_branch.py::TestBranchFromDict::test_from_dict_with_enum_branch_type PASSED [  1%]
tests/test_branch.py::TestBranchFromDict::test_from_dict_missing_branch_type PASSED [  1%]
tests/test_branch.py::TestBranchFromDict::test_from_dict_invalid_branch_type_string PASSED [  1%]
tests/test_branch.py::TestBranchValidateBranchType::test_validate_with_string_branch_type_returns_false PASSED [  1%]
tests/test_branch.py::TestBranchValidateBranchType::test_validate_with_proper_enum_returns_true PASSED [  1%]
tests/test_branch.py::TestValidationNaNInf::test_linebranch_with_nan_r_returns_false PASSED [  1%]
tests/test_branch.py::TestValidationNaNInf::test_linebranch_with_inf_x_returns_false PASSED [  1%]
tests/test_branch.py::TestValidationNaNInf::test_transformer_with_inf_uk_returns_false PASSED [  1%]
tests/test_branch.py::TestValidationNaNInf::test_transformer_with_nan_pk_returns_false PASSED [  1%]
tests/test_branch.py::TestBackwardCompatibility::test_linebranch_from_dict_with_legacy_keys PASSED [  1%]
tests/test_branch.py::TestBackwardCompatibility::test_transformer_from_dict_with_legacy_keys PASSED [  1%]
tests/test_branch.py::TestBackwardCompatibility::test_from_dict_missing_both_node_keys_raises PASSED [  1%]
tests/test_branch.py::TestSerializationVariantA::test_linebranch_to_dict_uses_variant_a_keys PASSED [  1%]
tests/test_branch.py::TestSerializationVariantA::test_transformer_to_dict_uses_variant_a_keys PASSED [  1%]
tests/test_branch.py::TestSerializationVariantA::test_branch_type_serialized_as_string PASSED [  2%]
tests/test_bus_alias.py::test_bus_alias_maps_to_node PASSED              [  2%]
tests/test_bus_alias.py::test_bus_from_dict_accepts_bus_type PASSED      [  2%]
tests/test_catalog_layer.py::test_catalog_types_are_frozen PASSED        [  2%]
tests/test_catalog_layer.py::test_catalog_repository_lists_deterministically PASSED [  2%]
tests/test_catalog_layer.py::test_line_branch_resolve_precedence PASSED  [  2%]
tests/test_catalog_layer.py::test_transformer_equivalent_from_catalog PASSED [  2%]
tests/test_catalog_layer.py::test_switch_equipment_type_ref_does_not_affect_state PASSED [  2%]
tests/test_domain_units.py::test_base_quantities_computes_z_and_i_base PASSED [  2%]
tests/test_domain_units.py::test_unit_system_round_trip PASSED           [  2%]
tests/test_domain_units.py::test_base_quantities_validation PASSED       [  2%]
tests/test_domain_validation.py::test_validation_report_is_valid PASSED  [  2%]
tests/test_domain_validation.py::test_validation_report_collects_and_sorts PASSED [  2%]
tests/test_environment.py::test_imports PASSED                           [  2%]
tests/test_graph.py::TestAddNodeSlackConstraint::test_add_node_allows_single_slack_and_rejects_second_slack PASSED [  3%]
tests/test_graph.py::TestAddNodeSlackConstraint::test_add_multiple_pq_nodes_allowed PASSED [  3%]
tests/test_graph.py::TestAddNodeSlackConstraint::test_add_node_duplicate_id_raises PASSED [  3%]
tests/test_graph.py::TestAddBranchNodeExistence::test_add_branch_requires_existing_nodes PASSED [  3%]
tests/test_graph.py::TestAddBranchNodeExistence::test_add_branch_from_node_not_exists PASSED [  3%]
tests/test_graph.py::TestAddBranchNodeExistence::test_add_branch_to_node_not_exists PASSED [  3%]
tests/test_graph.py::TestAddBranchNodeExistence::test_add_branch_self_loop_raises PASSED [  3%]
tests/test_graph.py::TestAddBranchNodeExistence::test_add_branch_between_existing_nodes_succeeds PASSED [  3%]
tests/test_graph.py::TestIsConnected::test_is_connected_true_for_connected_false_for_islands PASSED [  3%]
tests/test_graph.py::TestIsConnected::test_is_connected_empty_graph_returns_false PASSED [  3%]
tests/test_graph.py::TestIsConnected::test_is_connected_single_node_returns_true PASSED [  3%]
tests/test_graph.py::TestFindIslands::test_find_islands_returns_two_components_deterministically PASSED [  3%]
tests/test_graph.py::TestFindIslands::test_find_islands_single_isolated_nodes PASSED [  3%]
tests/test_graph.py::TestFindIslands::test_find_islands_empty_graph PASSED [  3%]
tests/test_graph.py::TestInactiveBranch::test_inactive_branch_not_in_graph_edges PASSED [  3%]
tests/test_graph.py::TestInactiveBranch::test_inactive_branch_affects_connectivity PASSED [  4%]
tests/test_graph.py::TestGetConnectedNodes::test_get_connected_nodes_returns_neighbors PASSED [  4%]
tests/test_graph.py::TestGetConnectedNodes::test_get_connected_nodes_isolated_node PASSED [  4%]
tests/test_graph.py::TestGetConnectedNodes::test_get_connected_nodes_nonexistent_raises PASSED [  4%]
tests/test_graph.py::TestRemoveOperations::test_remove_node_removes_incident_branches PASSED [  4%]
tests/test_graph.py::TestRemoveOperations::test_remove_branch PASSED     [  4%]
tests/test_graph.py::TestRemoveOperations::test_remove_nonexistent_node_raises PASSED [  4%]
tests/test_graph.py::TestRemoveOperations::test_remove_nonexistent_branch_raises PASSED [  4%]
tests/test_graph.py::TestGetSlackNode::test_get_slack_node_returns_slack PASSED [  4%]
tests/test_graph.py::TestGetSlackNode::test_get_slack_node_no_slack_raises PASSED [  4%]
tests/test_graph.py::TestRebuildGraph::test_rebuild_graph_restores_state PASSED [  4%]
tests/test_graph.py::TestEdgeAttributes::test_edge_has_branch_attributes PASSED [  4%]
tests/test_graph.py::TestParallelBranches::test_parallel_branches_between_same_nodes_are_supported PASSED [  4%]
tests/test_graph.py::TestParallelBranches::test_remove_branch_removes_only_one_parallel_edge PASSED [  4%]
tests/test_graph.py::TestParallelBranches::test_parallel_branches_with_one_inactive PASSED [  4%]
tests/test_graph.py::TestParallelBranches::test_three_parallel_branches PASSED [  5%]
tests/test_graph.py::TestParallelBranches::test_rebuild_graph_preserves_parallel_branches PASSED [  5%]
tests/test_graph.py::TestSwitchTopology::test_closed_switch_connects_nodes PASSED [  5%]
tests/test_graph.py::TestSwitchTopology::test_open_switch_disconnects_nodes PASSED [  5%]
tests/test_graph.py::TestSwitchTopology::test_out_of_service_switch_disconnects_nodes PASSED [  5%]
tests/test_mv_cable_line_catalog.py::TestCatalogCompleteness::test_cable_types_have_required_fields PASSED [  5%]
tests/test_mv_cable_line_catalog.py::TestCatalogCompleteness::test_line_types_have_required_fields PASSED [  5%]
tests/test_mv_cable_line_catalog.py::TestThermalDataCompleteness::test_base_cable_types_have_thermal_data PASSED [  5%]
tests/test_mv_cable_line_catalog.py::TestThermalDataCompleteness::test_base_line_types_have_thermal_data PASSED [  5%]
tests/test_mv_cable_line_catalog.py::TestThermalDataCompleteness::test_manufacturer_cable_types_have_thermal_data PASSED [  5%]
tests/test_mv_cable_line_catalog.py::TestThermalDataCompleteness::test_incomplete_types_detected PASSED [  5%]
tests/test_mv_cable_line_catalog.py::TestThermalDataCompleteness::test_ith_calculation_from_jth PASSED [  5%]
tests/test_mv_cable_line_catalog.py::TestManufacturerTypeMapping::test_manufacturer_types_have_base_type_id PASSED [  5%]
tests/test_mv_cable_line_catalog.py::TestManufacturerTypeMapping::test_nkt_cable_types_exist PASSED [  5%]
tests/test_mv_cable_line_catalog.py::TestManufacturerTypeMapping::test_telefonika_cable_types_exist PASSED [  6%]
tests/test_mv_cable_line_catalog.py::TestCatalogDeterminism::test_cable_list_order_is_deterministic PASSED [  6%]
tests/test_mv_cable_line_catalog.py::TestCatalogDeterminism::test_line_list_order_is_deterministic PASSED [  6%]
tests/test_mv_cable_line_catalog.py::TestCatalogDeterminism::test_catalog_data_functions_are_deterministic PASSED [  6%]
tests/test_mv_cable_line_catalog.py::TestCatalogStatistics::test_catalog_has_expected_counts PASSED [  6%]
tests/test_mv_cable_line_catalog.py::TestCatalogStatistics::test_catalog_has_expected_cross_sections PASSED [  6%]
tests/test_mv_cable_line_catalog.py::TestThermalParamsResolver::test_resolve_thermal_params_for_cable PASSED [  6%]
tests/test_mv_cable_line_catalog.py::TestThermalParamsResolver::test_resolve_thermal_params_for_manufacturer_type PASSED [  6%]
tests/test_mv_cable_line_catalog.py::TestThermalParamsResolver::test_resolve_thermal_params_for_line PASSED [  6%]
tests/test_mv_cable_line_catalog.py::TestThermalParamsResolver::test_resolve_thermal_params_for_incomplete_type PASSED [  6%]
tests/test_mv_cable_line_catalog.py::TestThermalParamsResolver::test_resolve_thermal_params_nonexistent_type PASSED [  6%]
tests/test_mv_cable_line_catalog.py::TestThermalParamsResolver::test_resolve_thermal_params_no_catalog PASSED [  6%]
tests/test_mv_cable_line_catalog.py::TestThermalParamsResolver::test_thermal_params_trace_dict PASSED [  6%]
tests/test_mv_cable_line_catalog.py::TestCableTypeProperties::test_cable_type_b_us_per_km_calculation PASSED [  6%]
tests/test_mv_cable_line_catalog.py::TestCableTypeProperties::test_cable_type_to_dict PASSED [  6%]
tests/test_mv_cable_line_catalog.py::TestCableTypeProperties::test_line_type_to_dict PASSED [  7%]
tests/test_mv_cable_line_catalog.py::TestCatalogCoverage::test_xlpe_cu_1c_coverage PASSED [  7%]
tests/test_mv_cable_line_catalog.py::TestCatalogCoverage::test_xlpe_al_1c_coverage PASSED [  7%]
tests/test_mv_cable_line_catalog.py::TestCatalogCoverage::test_al_line_coverage PASSED [  7%]
tests/test_mv_cable_line_catalog.py::TestCatalogCoverage::test_al_st_line_coverage PASSED [  7%]
tests/test_network_snapshot.py::test_snapshot_roundtrip_preserves_identity_and_ordering PASSED [  7%]
tests/test_network_snapshot.py::test_snapshot_lineage_creates_new_snapshot_id PASSED [  7%]
tests/test_p10a_lifecycle.py::TestDeterministicFingerprint::test_same_network_produces_same_fingerprint PASSED [  7%]
tests/test_p10a_lifecycle.py::TestDeterministicFingerprint::test_different_networks_produce_different_fingerprints PASSED [  7%]
tests/test_p10a_lifecycle.py::TestDeterministicFingerprint::test_fingerprint_is_independent_of_creation_order PASSED [  7%]
tests/test_p10a_lifecycle.py::TestDeterministicFingerprint::test_fingerprint_stored_in_meta PASSED [  7%]
tests/test_p10a_lifecycle.py::TestDeterministicFingerprint::test_fingerprint_in_to_dict PASSED [  7%]
tests/test_p10a_lifecycle.py::TestDeterministicFingerprint::test_fingerprint_from_dict_roundtrip PASSED [  7%]
tests/test_p10a_lifecycle.py::TestCanonicalizeValue::test_dict_keys_sorted PASSED [  7%]
tests/test_p10a_lifecycle.py::TestCanonicalizeValue::test_nested_dicts_sorted PASSED [  7%]
tests/test_p10a_lifecycle.py::TestCanonicalizeValue::test_floats_normalized PASSED [  8%]
tests/test_p10a_lifecycle.py::TestCanonicalizeValue::test_lists_preserved_order PASSED [  8%]
tests/test_p10a_lifecycle.py::TestComputeFingerprint::test_returns_hex_sha256 PASSED [  8%]
tests/test_p10a_lifecycle.py::TestComputeFingerprint::test_deterministic PASSED [  8%]
tests/test_p10a_lifecycle.py::TestProjectWithActiveSnapshot::test_new_project_has_no_active_snapshot PASSED [  8%]
tests/test_p10a_lifecycle.py::TestProjectWithActiveSnapshot::test_new_project_with_active_snapshot PASSED [  8%]
tests/test_p10a_lifecycle.py::TestStudyCaseWithSnapshot::test_new_study_case_has_no_snapshot PASSED [  8%]
tests/test_p10a_lifecycle.py::TestStudyCaseWithSnapshot::test_new_study_case_with_snapshot PASSED [  8%]
tests/test_p10a_lifecycle.py::TestStudyCaseWithSnapshot::test_with_network_snapshot_id_creates_new_instance PASSED [  8%]
tests/test_p10a_lifecycle.py::TestStudyCaseWithSnapshot::test_with_network_snapshot_id_invalidates_fresh_results PASSED [  8%]
tests/test_p10a_lifecycle.py::TestStudyCaseWithSnapshot::test_with_network_snapshot_id_keeps_none_status PASSED [  8%]
tests/test_p10a_lifecycle.py::TestStudyCaseWithSnapshot::test_clone_preserves_snapshot_binding PASSED [  8%]
tests/test_p10a_lifecycle.py::TestStudyRunWithSnapshot::test_new_study_run_with_snapshot PASSED [  8%]
tests/test_p10a_lifecycle.py::TestStudyRunWithSnapshot::test_study_run_is_immutable PASSED [  8%]
tests/test_p10b_comparison.py::TestRunResultState::test_result_state_values PASSED [  9%]
tests/test_p10b_comparison.py::TestRunResultState::test_result_state_string_conversion PASSED [  9%]
tests/test_p10b_comparison.py::TestNumericDelta::test_positive_delta PASSED [  9%]
tests/test_p10b_comparison.py::TestNumericDelta::test_negative_delta PASSED [  9%]
tests/test_p10b_comparison.py::TestNumericDelta::test_zero_delta PASSED  [  9%]
tests/test_p10b_comparison.py::TestNumericDelta::test_percent_none_when_a_zero PASSED [  9%]
tests/test_p10b_comparison.py::TestNumericDelta::test_determinism_same_inputs PASSED [  9%]
tests/test_p10b_comparison.py::TestNumericDelta::test_to_dict_serialization PASSED [  9%]
tests/test_p10b_comparison.py::TestComplexDelta::test_complex_delta_computation PASSED [  9%]
tests/test_p10b_comparison.py::TestComplexDelta::test_complex_delta_zero_magnitude_a PASSED [  9%]
tests/test_p10b_comparison.py::TestComplexDelta::test_complex_delta_determinism PASSED [  9%]
tests/test_p10b_comparison.py::TestComplexDelta::test_to_dict_serialization PASSED [  9%]
tests/test_p10b_comparison.py::TestShortCircuitComparison::test_construction_from_deltas PASSED [  9%]
tests/test_p10b_comparison.py::TestShortCircuitComparison::test_to_dict_serialization PASSED [  9%]
tests/test_p10b_comparison.py::TestPowerFlowComparison::test_construction_with_node_voltages PASSED [  9%]
tests/test_p10b_comparison.py::TestPowerFlowComparison::test_to_dict_serialization PASSED [ 10%]
tests/test_p10b_comparison.py::TestRunComparisonResult::test_construction_with_short_circuit PASSED [ 10%]
tests/test_p10b_comparison.py::TestRunComparisonResult::test_to_dict_serialization PASSED [ 10%]
tests/test_p10b_comparison.py::TestComparisonExceptions::test_project_mismatch_error PASSED [ 10%]
tests/test_p10b_comparison.py::TestComparisonExceptions::test_analysis_type_mismatch_error PASSED [ 10%]
tests/test_p10b_comparison.py::TestComparisonExceptions::test_run_not_found_error PASSED [ 10%]
tests/test_p10b_comparison.py::TestComparisonExceptions::test_result_not_found_error PASSED [ 10%]
tests/test_p10b_comparison.py::TestDeterminismRequirements::test_numeric_delta_deterministic_across_calls PASSED [ 10%]
tests/test_p10b_comparison.py::TestDeterminismRequirements::test_complex_delta_deterministic_across_calls PASSED [ 10%]
tests/test_p10b_comparison.py::TestDeterminismRequirements::test_comparison_result_deterministic_serialization PASSED [ 10%]
tests/test_p10b_comparison.py::TestEdgeCases::test_identical_values_zero_delta PASSED [ 10%]
tests/test_p10b_comparison.py::TestEdgeCases::test_very_small_differences PASSED [ 10%]
tests/test_p10b_comparison.py::TestEdgeCases::test_negative_values PASSED [ 10%]
tests/test_p10b_comparison.py::TestEdgeCases::test_mixed_sign_values PASSED [ 10%]
tests/test_p11a_results_inspector.py::TestRunHeaderDTO::test_construction PASSED [ 11%]
tests/test_p11a_results_inspector.py::TestRunHeaderDTO::test_to_dict_serialization PASSED [ 11%]
tests/test_p11a_results_inspector.py::TestRunHeaderDTO::test_frozen_immutability PASSED [ 11%]
tests/test_p11a_results_inspector.py::TestResultColumnDTO::test_construction_with_unit PASSED [ 11%]
tests/test_p11a_results_inspector.py::TestResultColumnDTO::test_construction_without_unit PASSED [ 11%]
tests/test_p11a_results_inspector.py::TestResultColumnDTO::test_to_dict_with_unit PASSED [ 11%]
tests/test_p11a_results_inspector.py::TestResultColumnDTO::test_to_dict_without_unit PASSED [ 11%]
tests/test_p11a_results_inspector.py::TestResultTableMetaDTO::test_construction PASSED [ 11%]
tests/test_p11a_results_inspector.py::TestResultTableMetaDTO::test_to_dict_serialization PASSED [ 11%]
tests/test_p11a_results_inspector.py::TestBusResultsRowDTO::test_construction PASSED [ 11%]
tests/test_p11a_results_inspector.py::TestBusResultsRowDTO::test_optional_fields_default PASSED [ 11%]
tests/test_p11a_results_inspector.py::TestBusResultsRowDTO::test_to_dict_serialization PASSED [ 11%]
tests/test_p11a_results_inspector.py::TestBusResultsDTO::test_construction_with_rows PASSED [ 11%]
tests/test_p11a_results_inspector.py::TestBusResultsDTO::test_deterministic_sorting_by_name_then_id PASSED [ 11%]
tests/test_p11a_results_inspector.py::TestBusResultsDTO::test_determinism_same_inputs PASSED [ 11%]
tests/test_p11a_results_inspector.py::TestBranchResultsRowDTO::test_construction PASSED [ 12%]
tests/test_p11a_results_inspector.py::TestBranchResultsRowDTO::test_to_dict_serialization PASSED [ 12%]
tests/test_p11a_results_inspector.py::TestBranchResultsDTO::test_deterministic_sorting_by_name_then_id PASSED [ 12%]
tests/test_p11a_results_inspector.py::TestShortCircuitRowDTO::test_construction PASSED [ 12%]
tests/test_p11a_results_inspector.py::TestShortCircuitRowDTO::test_to_dict_serialization PASSED [ 12%]
tests/test_p11a_results_inspector.py::TestShortCircuitResultsDTO::test_deterministic_sorting_by_target_id PASSED [ 12%]
tests/test_p11a_results_inspector.py::TestExtendedTraceDTO::test_construction PASSED [ 12%]
tests/test_p11a_results_inspector.py::TestExtendedTraceDTO::test_to_dict_serialization PASSED [ 12%]
tests/test_p11a_results_inspector.py::TestSldOverlayNodeDTO::test_construction_with_pf_results PASSED [ 12%]
tests/test_p11a_results_inspector.py::TestSldOverlayNodeDTO::test_construction_with_sc_results PASSED [ 12%]
tests/test_p11a_results_inspector.py::TestSldOverlayNodeDTO::test_to_dict_omits_none_values PASSED [ 12%]
tests/test_p11a_results_inspector.py::TestSldOverlayBranchDTO::test_construction PASSED [ 12%]
tests/test_p11a_results_inspector.py::TestSldOverlayBranchDTO::test_to_dict_omits_none_values PASSED [ 12%]
tests/test_p11a_results_inspector.py::TestSldResultOverlayDTO::test_construction PASSED [ 12%]
tests/test_p11a_results_inspector.py::TestSldResultOverlayDTO::test_to_dict_serialization PASSED [ 12%]
tests/test_p11a_results_inspector.py::TestDeterminismRequirements::test_bus_results_deterministic_serialization PASSED [ 13%]
tests/test_p11a_results_inspector.py::TestDeterminismRequirements::test_branch_results_deterministic_serialization PASSED [ 13%]
tests/test_p11a_results_inspector.py::TestDeterminismRequirements::test_sld_overlay_deterministic_serialization PASSED [ 13%]
tests/test_p11a_results_inspector.py::TestEdgeCases::test_empty_rows PASSED [ 13%]
tests/test_p11a_results_inspector.py::TestEdgeCases::test_empty_overlay PASSED [ 13%]
tests/test_p11a_results_inspector.py::TestEdgeCases::test_null_snapshot_id PASSED [ 13%]
tests/test_p11a_results_inspector.py::TestEdgeCases::test_empty_white_box_trace PASSED [ 13%]
tests/test_p11a_results_inspector.py::TestEdgeCases::test_special_characters_in_names PASSED [ 13%]
tests/test_p11a_results_inspector.py::TestEdgeCases::test_unicode_in_names PASSED [ 13%]
tests/test_p11a_results_inspector.py::TestResultsIndexDTO::test_construction_with_multiple_tables PASSED [ 13%]
tests/test_p11a_results_inspector.py::TestResultsIndexDTO::test_to_dict_serialization PASSED [ 13%]
tests/test_p20a_power_flow_determinism.py::TestPowerFlowDeterminism::test_same_input_same_result PASSED [ 13%]
tests/test_p20a_power_flow_determinism.py::TestPowerFlowDeterminism::test_same_input_same_trace PASSED [ 13%]
tests/test_p20a_power_flow_determinism.py::TestPowerFlowDeterminism::test_multiple_runs_determinism PASSED [ 13%]
tests/test_p20a_power_flow_determinism.py::TestPowerFlowConvergence::test_simple_network_converges PASSED [ 14%]
tests/test_p20a_power_flow_determinism.py::TestPowerFlowConvergence::test_convergence_with_full_trace PASSED [ 14%]
tests/test_p20a_power_flow_determinism.py::TestPowerFlowConvergence::test_trace_has_per_bus_mismatch PASSED [ 14%]
tests/test_p20a_power_flow_determinism.py::TestPowerFlowConvergence::test_trace_has_jacobian PASSED [ 14%]
tests/test_p20a_power_flow_determinism.py::TestPowerFlowFailure::test_no_convergence_with_high_load PASSED [ 14%]
tests/test_p20a_power_flow_determinism.py::TestPowerFlowInputPermutations::test_node_order_independence PASSED [ 14%]
tests/test_p20a_power_flow_determinism.py::TestPowerFlowInputPermutations::test_pq_spec_order_independence PASSED [ 14%]
tests/test_p20a_power_flow_determinism.py::TestPowerFlowTraceBuilder::test_build_power_flow_trace PASSED [ 14%]
tests/test_p20a_power_flow_determinism.py::TestPowerFlowTraceBuilder::test_trace_to_dict_deterministic PASSED [ 14%]
tests/test_p20a_power_flow_determinism.py::TestPowerFlowResultV1Builder::test_build_power_flow_result_v1 PASSED [ 14%]
tests/test_p20a_power_flow_determinism.py::TestPowerFlowResultV1Builder::test_result_to_dict_deterministic PASSED [ 14%]
tests/test_p21_power_flow_proof.py::TestProofDeterminism::test_document_id_is_deterministic PASSED [ 14%]
tests/test_p21_power_flow_proof.py::TestProofDeterminism::test_created_at_uses_run_timestamp PASSED [ 14%]
tests/test_p21_power_flow_proof.py::TestProofDeterminism::test_same_trace_produces_byte_identical_json PASSED [ 14%]
tests/test_p21_power_flow_proof.py::TestProofDeterminism::test_same_trace_produces_identical_latex PASSED [ 14%]
tests/test_p21_power_flow_proof.py::TestProofDeterminism::test_different_run_timestamp_produces_different_created_at PASSED [ 15%]
tests/test_p21_power_flow_proof.py::TestProofDeterminism::test_bus_order_independence PASSED [ 15%]
tests/test_p21_power_flow_proof.py::TestProofCompleteness::test_proof_contains_all_iterations PASSED [ 15%]
tests/test_p21_power_flow_proof.py::TestProofCompleteness::test_all_mandatory_sections_present PASSED [ 15%]
tests/test_p21_power_flow_proof.py::TestProofCompleteness::test_each_iteration_has_required_steps PASSED [ 15%]
tests/test_p21_power_flow_proof.py::TestNoSecondaryCalculations::test_mismatch_values_from_trace PASSED [ 15%]
tests/test_p21_power_flow_proof.py::TestNoSecondaryCalculations::test_norm_values_from_trace PASSED [ 15%]
tests/test_p21_power_flow_proof.py::TestExports::test_json_export_valid PASSED [ 15%]
tests/test_p21_power_flow_proof.py::TestExports::test_latex_export_valid PASSED [ 15%]
tests/test_p21_power_flow_proof.py::TestExports::test_latex_contains_all_equations PASSED [ 15%]
tests/test_p21_power_flow_proof.py::TestVerification::test_unit_consistency_check PASSED [ 15%]
tests/test_p21_power_flow_proof.py::TestVerification::test_energy_balance_check PASSED [ 15%]
tests/test_p21_power_flow_proof.py::TestVerification::test_no_contradictions_check PASSED [ 15%]
tests/test_p21_power_flow_proof.py::TestEdgeCases::test_unconverged_proof PASSED [ 15%]
tests/test_p21_power_flow_proof.py::TestEdgeCases::test_empty_iterations PASSED [ 15%]
tests/test_p21_power_flow_proof.py::TestEquationRegistry::test_equation_ids_are_unique PASSED [ 16%]
tests/test_p21_power_flow_proof.py::TestEquationRegistry::test_equation_ids_follow_pattern PASSED [ 16%]
tests/test_p21_power_flow_proof.py::TestEquationRegistry::test_get_equation_by_id PASSED [ 16%]
tests/test_p21_power_flow_proof.py::TestEquationRegistry::test_equations_have_polish_names PASSED [ 16%]
tests/test_power_flow_export.py::TestPowerFlowResultJsonExport::test_export_creates_file PASSED [ 16%]
tests/test_power_flow_export.py::TestPowerFlowResultJsonExport::test_export_contains_report_type PASSED [ 16%]
tests/test_power_flow_export.py::TestPowerFlowResultJsonExport::test_export_contains_result_data PASSED [ 16%]
tests/test_power_flow_export.py::TestPowerFlowResultJsonExport::test_export_with_trace PASSED [ 16%]
tests/test_power_flow_export.py::TestPowerFlowResultJsonExport::test_export_with_metadata PASSED [ 16%]
tests/test_power_flow_export.py::TestPowerFlowResultJsonExport::test_export_determinism PASSED [ 16%]
tests/test_power_flow_export.py::TestPowerFlowResultJsonExport::test_export_creates_parent_directories PASSED [ 16%]
tests/test_power_flow_export.py::TestPowerFlowResultJsonExport::test_export_utf8_encoding PASSED [ 16%]
tests/test_power_flow_export.py::TestPowerFlowResultJsonExport::test_export_invalid_to_dict PASSED [ 16%]
tests/test_power_flow_export.py::TestPowerFlowResultsJsonlExport::test_export_creates_file PASSED [ 16%]
tests/test_power_flow_export.py::TestPowerFlowResultsJsonlExport::test_export_multiple_lines PASSED [ 17%]
tests/test_power_flow_export.py::TestPowerFlowComparisonJsonExport::test_export_creates_file PASSED [ 17%]
tests/test_power_flow_export.py::TestPowerFlowComparisonJsonExport::test_export_contains_report_type PASSED [ 17%]
tests/test_power_flow_export.py::TestPowerFlowComparisonJsonExport::test_export_determinism PASSED [ 17%]
tests/test_power_flow_export.py::TestNotASolverCompliance::test_export_uses_to_dict_directly PASSED [ 17%]
tests/test_power_flow_export.py::TestNotASolverCompliance::test_export_preserves_bus_results PASSED [ 17%]
tests/test_power_flow_export.py::TestNotASolverCompliance::test_export_preserves_branch_results PASSED [ 17%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledBasic::test_two_bus_converges PASSED [ 17%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledBasic::test_three_bus_radial_converges PASSED [ 17%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledBasic::test_ring_network_converges PASSED [ 17%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledBasic::test_no_load_returns_flat_voltage PASSED [ 17%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledBasic::test_slack_only_network PASSED [ 17%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledPVBuses::test_pv_bus_maintains_voltage_setpoint PASSED [ 17%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledPVBuses::test_pv_to_pq_switch_on_q_limit PASSED [ 17%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledOptions::test_default_options PASSED [ 17%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledOptions::test_xb_method_valid PASSED [ 18%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledOptions::test_bx_method_valid PASSED [ 18%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledOptions::test_positive_angle_damping_valid PASSED [ 18%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledOptions::test_positive_voltage_damping_valid PASSED [ 18%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledOptions::test_invalid_angle_damping_zero PASSED [ 18%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledOptions::test_invalid_angle_damping_negative PASSED [ 18%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledOptions::test_invalid_voltage_damping_zero PASSED [ 18%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledOptions::test_invalid_voltage_damping_negative PASSED [ 18%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledOptions::test_invalid_rebuild_matrices_every_negative PASSED [ 18%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledOptions::test_rebuild_matrices_every_zero_valid PASSED [ 18%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledOptions::test_rebuild_matrices_every_positive_valid PASSED [ 18%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledMethods::test_xb_method_converges PASSED [ 18%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledMethods::test_bx_method_converges PASSED [ 18%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledMethods::test_xb_and_bx_give_similar_results PASSED [ 18%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledWhiteBox::test_trace_contains_iterations PASSED [ 19%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledWhiteBox::test_full_trace_has_state_next PASSED [ 19%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledWhiteBox::test_init_state_recorded PASSED [ 19%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledWhiteBox::test_solver_method_field_is_fast_decoupled PASSED [ 19%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledVsNewtonRaphson::test_two_bus_voltage_matches_newton PASSED [ 19%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledVsNewtonRaphson::test_three_bus_voltage_matches_newton PASSED [ 19%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledVsNewtonRaphson::test_ring_network_matches_newton PASSED [ 19%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledVsNewtonRaphson::test_pv_bus_matches_newton PASSED [ 19%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledVsNewtonRaphson::test_losses_match_newton PASSED [ 19%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledDeterminism::test_determinism_same_results PASSED [ 19%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledDeterminism::test_determinism_identical_trace PASSED [ 19%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledDeterminism::test_determinism_init_state_identical PASSED [ 19%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledEdgeCases::test_high_impedance_line_converges PASSED [ 19%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledEdgeCases::test_transformer_network_converges PASSED [ 19%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledEdgeCases::test_multiple_pv_buses PASSED [ 19%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledSolverAPI::test_solver_class_interface PASSED [ 20%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledSolverAPI::test_convenience_function PASSED [ 20%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledSolverAPI::test_returns_newton_solution_type PASSED [ 20%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledSolverAPI::test_result_has_all_expected_fields PASSED [ 20%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledDamping::test_angle_damping_affects_convergence PASSED [ 20%]
tests/test_power_flow_fast_decoupled.py::TestFastDecoupledDamping::test_voltage_damping_affects_convergence PASSED [ 20%]
tests/test_power_flow_gauss_seidel.py::TestGaussSeidelBasic::test_two_bus_converges PASSED [ 20%]
tests/test_power_flow_gauss_seidel.py::TestGaussSeidelBasic::test_three_bus_radial_converges PASSED [ 20%]
tests/test_power_flow_gauss_seidel.py::TestGaussSeidelBasic::test_no_load_returns_flat_voltage PASSED [ 20%]
tests/test_power_flow_gauss_seidel.py::TestGaussSeidelBasic::test_slack_only_network PASSED [ 20%]
tests/test_power_flow_gauss_seidel.py::TestGaussSeidelPVBuses::test_pv_bus_maintains_voltage_setpoint PASSED [ 20%]
tests/test_power_flow_gauss_seidel.py::TestGaussSeidelPVBuses::test_pv_to_pq_switch_on_q_limit PASSED [ 20%]
tests/test_power_flow_gauss_seidel.py::TestGaussSeidelAcceleration::test_acceleration_factor_affects_convergence PASSED [ 20%]
tests/test_power_flow_gauss_seidel.py::TestGaussSeidelAcceleration::test_under_relaxation_more_stable PASSED [ 20%]
tests/test_power_flow_gauss_seidel.py::TestGaussSeidelWhiteBox::test_trace_contains_iterations PASSED [ 20%]
tests/test_power_flow_gauss_seidel.py::TestGaussSeidelWhiteBox::test_full_trace_has_state_next PASSED [ 21%]
tests/test_power_flow_gauss_seidel.py::TestGaussSeidelWhiteBox::test_init_state_recorded PASSED [ 21%]
tests/test_power_flow_gauss_seidel.py::TestGaussSeidelVsNewtonRaphson::test_two_bus_voltage_matches_newton PASSED [ 21%]
tests/test_power_flow_gauss_seidel.py::TestGaussSeidelVsNewtonRaphson::test_three_bus_voltage_matches_newton PASSED [ 21%]
tests/test_power_flow_gauss_seidel.py::TestGaussSeidelVsNewtonRaphson::test_ring_network_matches_newton PASSED [ 21%]
tests/test_power_flow_gauss_seidel.py::TestGaussSeidelVsNewtonRaphson::test_pv_bus_matches_newton PASSED [ 21%]
tests/test_power_flow_gauss_seidel.py::TestGaussSeidelVsNewtonRaphson::test_losses_match_newton PASSED [ 21%]
tests/test_power_flow_gauss_seidel.py::TestGaussSeidelEdgeCases::test_high_impedance_line_converges PASSED [ 21%]
tests/test_power_flow_gauss_seidel.py::TestGaussSeidelEdgeCases::test_transformer_network_converges PASSED [ 21%]
tests/test_power_flow_gauss_seidel.py::TestGaussSeidelEdgeCases::test_multiple_pv_buses PASSED [ 21%]
tests/test_power_flow_gauss_seidel.py::TestGaussSeidelSolverAPI::test_solver_class_interface PASSED [ 21%]
tests/test_power_flow_gauss_seidel.py::TestGaussSeidelSolverAPI::test_convenience_function PASSED [ 21%]
tests/test_power_flow_gauss_seidel.py::TestGaussSeidelSolverAPI::test_returns_newton_solution_type PASSED [ 21%]
tests/test_power_flow_gauss_seidel.py::TestGaussSeidelSolverAPI::test_result_has_all_expected_fields PASSED [ 21%]
tests/test_power_flow_gauss_seidel.py::TestFix08bSolverMethodField::test_gs_result_has_solver_method_gauss_seidel PASSED [ 22%]
tests/test_power_flow_gauss_seidel.py::TestFix08bSolverMethodField::test_nr_result_has_solver_method_newton_raphson PASSED [ 22%]
tests/test_power_flow_gauss_seidel.py::TestFix08bAccelerationFactorValidation::test_valid_acceleration_factor_1_0 PASSED [ 22%]
tests/test_power_flow_gauss_seidel.py::TestFix08bAccelerationFactorValidation::test_valid_acceleration_factor_0_5 PASSED [ 22%]
tests/test_power_flow_gauss_seidel.py::TestFix08bAccelerationFactorValidation::test_valid_acceleration_factor_2_0 PASSED [ 22%]
tests/test_power_flow_gauss_seidel.py::TestFix08bAccelerationFactorValidation::test_valid_acceleration_factor_1_5 PASSED [ 22%]
tests/test_power_flow_gauss_seidel.py::TestFix08bAccelerationFactorValidation::test_invalid_acceleration_factor_too_low PASSED [ 22%]
tests/test_power_flow_gauss_seidel.py::TestFix08bAccelerationFactorValidation::test_invalid_acceleration_factor_too_high PASSED [ 22%]
tests/test_power_flow_gauss_seidel.py::TestFix08bAccelerationFactorValidation::test_invalid_acceleration_factor_negative PASSED [ 22%]
tests/test_power_flow_gauss_seidel.py::TestFix08bFallbackToNewtonRaphson::test_fallback_triggers_on_non_convergence PASSED [ 22%]
tests/test_power_flow_gauss_seidel.py::TestFix08bFallbackToNewtonRaphson::test_no_fallback_when_disabled PASSED [ 22%]
tests/test_power_flow_gauss_seidel.py::TestFix08bFallbackToNewtonRaphson::test_no_fallback_when_gs_converges PASSED [ 22%]
tests/test_power_flow_gauss_seidel.py::TestFix08bFallbackToNewtonRaphson::test_fallback_result_matches_direct_nr_result PASSED [ 22%]
tests/test_power_flow_reports.py::TestExportPowerFlowResultToPdf::test_export_creates_file PASSED [ 22%]
tests/test_power_flow_reports.py::TestExportPowerFlowResultToPdf::test_export_creates_non_empty_file PASSED [ 22%]
tests/test_power_flow_reports.py::TestExportPowerFlowResultToPdf::test_export_creates_valid_pdf_header PASSED [ 23%]
tests/test_power_flow_reports.py::TestExportPowerFlowResultToPdf::test_export_creates_parent_directories PASSED [ 23%]
tests/test_power_flow_reports.py::TestExportPowerFlowResultToPdf::test_export_with_custom_title PASSED [ 23%]
tests/test_power_flow_reports.py::TestExportPowerFlowResultToPdf::test_export_with_trace PASSED [ 23%]
tests/test_power_flow_reports.py::TestExportPowerFlowResultToPdf::test_export_without_trace PASSED [ 23%]
tests/test_power_flow_reports.py::TestExportPowerFlowResultToPdf::test_export_with_metadata PASSED [ 23%]
tests/test_power_flow_reports.py::TestExportPowerFlowResultToPdf::test_export_accepts_string_path PASSED [ 23%]
tests/test_power_flow_reports.py::TestExportPowerFlowComparisonToPdf::test_export_comparison_creates_file PASSED [ 23%]
tests/test_power_flow_reports.py::TestExportPowerFlowComparisonToPdf::test_export_comparison_valid_pdf PASSED [ 23%]
tests/test_power_flow_reports.py::TestPdfErrorHandling::test_export_validates_to_dict_returns_dict PASSED [ 23%]
tests/test_power_flow_reports.py::TestExportPowerFlowResultToDocx::test_export_creates_file PASSED [ 23%]
tests/test_power_flow_reports.py::TestExportPowerFlowResultToDocx::test_export_creates_non_empty_file PASSED [ 23%]
tests/test_power_flow_reports.py::TestExportPowerFlowResultToDocx::test_export_creates_valid_docx_header PASSED [ 23%]
tests/test_power_flow_reports.py::TestExportPowerFlowResultToDocx::test_export_creates_parent_directories PASSED [ 23%]
tests/test_power_flow_reports.py::TestExportPowerFlowResultToDocx::test_export_with_custom_title PASSED [ 23%]
tests/test_power_flow_reports.py::TestExportPowerFlowResultToDocx::test_export_with_trace PASSED [ 24%]
tests/test_power_flow_reports.py::TestExportPowerFlowResultToDocx::test_export_without_trace PASSED [ 24%]
tests/test_power_flow_reports.py::TestExportPowerFlowResultToDocx::test_export_with_metadata PASSED [ 24%]
tests/test_power_flow_reports.py::TestExportPowerFlowResultToDocx::test_export_accepts_string_path PASSED [ 24%]
tests/test_power_flow_reports.py::TestExportPowerFlowComparisonToDocx::test_export_comparison_creates_file PASSED [ 24%]
tests/test_power_flow_reports.py::TestExportPowerFlowComparisonToDocx::test_export_comparison_valid_docx PASSED [ 24%]
tests/test_power_flow_reports.py::TestDocxErrorHandling::test_export_validates_to_dict_returns_dict PASSED [ 24%]
tests/test_power_flow_reports.py::TestPolishLabelsPdf::test_pdf_report_is_generated_with_valid_structure PASSED [ 24%]
tests/test_power_flow_reports.py::TestPolishLabelsDocx::test_docx_report_contains_polish_text PASSED [ 24%]
tests/test_power_flow_reports.py::TestWhiteBoxTracePdf::test_pdf_with_trace_larger_than_without PASSED [ 24%]
tests/test_power_flow_reports.py::TestWhiteBoxTraceDocx::test_docx_with_trace_larger_than_without PASSED [ 24%]
tests/test_power_flow_reports.py::TestPdfWhenReportlabUnavailable::test_import_error_raised_when_reportlab_missing SKIPPED [ 24%]
tests/test_power_flow_reports.py::TestDocxWhenPythonDocxUnavailable::test_import_error_raised_when_docx_missing SKIPPED [ 24%]
tests/test_power_flow_solver_layer_parity.py::test_power_flow_solver_layer_parity PASSED [ 24%]
tests/test_power_flow_v1.py::test_two_bus_converges_and_voltage_drops PASSED [ 25%]
tests/test_power_flow_v1.py::test_three_bus_radial_voltage_profile PASSED [ 25%]
tests/test_power_flow_v1.py::test_three_bus_mesh_converges PASSED        [ 25%]
tests/test_power_flow_v1.py::test_duplicate_pq_spec_validation PASSED    [ 25%]
tests/test_power_flow_v1.py::test_island_without_slack_is_reported PASSED [ 25%]
tests/test_power_flow_v1.py::test_power_flow_results_are_deterministic PASSED [ 25%]
tests/test_power_flow_v2.py::test_pv_stays_pv_when_q_within_limits PASSED [ 25%]
tests/test_power_flow_v2.py::test_pv_q_limits_trigger_pv_to_pq_switch PASSED [ 25%]
tests/test_power_flow_v2.py::test_transformer_tap_ratio_changes_secondary_voltage PASSED [ 25%]
tests/test_power_flow_v2.py::test_shunt_increases_voltage_magnitude PASSED [ 25%]
tests/test_power_flow_v2.py::test_voltage_limit_violation_ranking PASSED [ 25%]
tests/test_power_flow_v2.py::test_non_convergence_returns_best_effort_and_cause PASSED [ 25%]
tests/test_power_flow_v2.py::test_v2_regression_with_basic_slack_pq_case PASSED [ 25%]
tests/test_protection_analysis.py::TestIecInverseTime::test_iec_si_curve_at_2x_pickup PASSED [ 25%]
tests/test_protection_analysis.py::TestIecInverseTime::test_iec_si_curve_at_10x_pickup PASSED [ 25%]
tests/test_protection_analysis.py::TestIecInverseTime::test_iec_si_curve_with_tms PASSED [ 26%]
tests/test_protection_analysis.py::TestIecInverseTime::test_no_trip_below_pickup PASSED [ 26%]
tests/test_protection_analysis.py::TestIecInverseTime::test_no_trip_at_pickup PASSED [ 26%]
tests/test_protection_analysis.py::TestIecInverseTime::test_very_inverse_curve PASSED [ 26%]
tests/test_protection_analysis.py::TestIecInverseTime::test_extremely_inverse_curve PASSED [ 26%]
tests/test_protection_analysis.py::TestIecInverseTime::test_extremely_inverse_faster_at_high_multiples PASSED [ 26%]
tests/test_protection_analysis.py::TestDefiniteTime::test_trips_above_pickup PASSED [ 26%]
tests/test_protection_analysis.py::TestDefiniteTime::test_no_trip_below_pickup PASSED [ 26%]
tests/test_protection_analysis.py::TestMarginPercent::test_margin_at_2x PASSED [ 26%]
tests/test_protection_analysis.py::TestMarginPercent::test_margin_at_1_5x PASSED [ 26%]
tests/test_protection_analysis.py::TestMarginPercent::test_margin_below_pickup PASSED [ 26%]
tests/test_protection_analysis.py::TestProtectionEvaluationEngine::test_evaluation_trips PASSED [ 26%]
tests/test_protection_analysis.py::TestProtectionEvaluationEngine::test_evaluation_no_trip PASSED [ 26%]
tests/test_protection_analysis.py::TestProtectionEvaluationEngine::test_evaluation_unsupported_curve PASSED [ 26%]
tests/test_protection_analysis.py::TestDeterminism::test_same_input_same_output PASSED [ 26%]
tests/test_protection_analysis.py::TestDeterminism::test_deterministic_trip_time PASSED [ 27%]
tests/test_protection_analysis.py::TestProtectionEvaluation::test_serialization_roundtrip PASSED [ 27%]
tests/test_protection_analysis.py::TestProtectionResult::test_serialization_roundtrip PASSED [ 27%]
tests/test_protection_analysis.py::TestProtectionTrace::test_serialization_roundtrip PASSED [ 27%]
tests/test_protection_analysis.py::TestComputeResultSummary::test_summary_computation PASSED [ 27%]
tests/test_protection_analysis.py::TestDefiniteTimeCurve::test_definite_time_trips PASSED [ 27%]
tests/test_protection_analysis.py::TestMultipleDevicesAndFaults::test_multiple_devices_single_fault PASSED [ 27%]
tests/test_protection_analysis.py::TestMultipleDevicesAndFaults::test_single_device_multiple_faults PASSED [ 27%]
tests/test_protection_analysis.py::TestIecInverseTimeGoldenPoints::test_si_golden_m2 PASSED [ 27%]
tests/test_protection_analysis.py::TestIecInverseTimeGoldenPoints::test_si_golden_m5 PASSED [ 27%]
tests/test_protection_analysis.py::TestIecInverseTimeGoldenPoints::test_si_golden_m10 PASSED [ 27%]
tests/test_protection_analysis.py::TestIecInverseTimeGoldenPoints::test_vi_golden_m2 PASSED [ 27%]
tests/test_protection_analysis.py::TestIecInverseTimeGoldenPoints::test_vi_golden_m5 PASSED [ 27%]
tests/test_protection_analysis.py::TestIecInverseTimeGoldenPoints::test_vi_golden_m10 PASSED [ 27%]
tests/test_protection_analysis.py::TestIecInverseTimeGoldenPoints::test_ei_golden_m2 PASSED [ 28%]
tests/test_protection_analysis.py::TestIecInverseTimeGoldenPoints::test_ei_golden_m5 PASSED [ 28%]
tests/test_protection_analysis.py::TestIecInverseTimeGoldenPoints::test_ei_golden_m10 PASSED [ 28%]
tests/test_protection_analysis.py::TestIecInverseTimeGoldenPoints::test_ei_golden_m20 PASSED [ 28%]
tests/test_protection_analysis.py::TestIecInverseTimeProperties::test_monotonicity_si PASSED [ 28%]
tests/test_protection_analysis.py::TestIecInverseTimeProperties::test_monotonicity_vi PASSED [ 28%]
tests/test_protection_analysis.py::TestIecInverseTimeProperties::test_monotonicity_ei PASSED [ 28%]
tests/test_protection_analysis.py::TestIecInverseTimeProperties::test_tms_scaling_linear PASSED [ 28%]
tests/test_protection_analysis.py::TestIecInverseTimeProperties::test_no_trip_at_pickup PASSED [ 28%]
tests/test_protection_analysis.py::TestIecInverseTimeProperties::test_no_trip_below_pickup PASSED [ 28%]
tests/test_protection_analysis.py::TestIecInverseTimeProperties::test_numerical_stability_near_boundary PASSED [ 28%]
tests/test_protection_analysis.py::TestIecInverseTimeProperties::test_determinism_repeated_calls PASSED [ 28%]
tests/test_protection_analysis.py::TestIecInverseTimeProperties::test_curve_ordering_at_high_m PASSED [ 28%]
tests/test_protection_analysis.py::TestProtectionTraceAudit::test_trace_contains_curve_parameters PASSED [ 28%]
tests/test_protection_analysis.py::TestProtectionTraceAudit::test_trace_serialization_deterministic PASSED [ 28%]
tests/test_protection_analysis.py::TestVendorCurveRegistry::test_iec_curves_registered PASSED [ 29%]
tests/test_protection_analysis.py::TestVendorCurveRegistry::test_vendor_curves_registered PASSED [ 29%]
tests/test_protection_analysis.py::TestVendorCurveRegistry::test_vendor_curve_has_required_fields PASSED [ 29%]
tests/test_protection_analysis.py::TestVendorIecParity::test_abb_si_matches_iec_si PASSED [ 29%]
tests/test_protection_analysis.py::TestVendorIecParity::test_siemens_vi_matches_iec_vi PASSED [ 29%]
tests/test_protection_analysis.py::TestVendorIecParity::test_etango_ei_matches_iec_ei PASSED [ 29%]
tests/test_protection_analysis.py::TestVendorIecParity::test_all_derived_vendor_curves_match_iec PASSED [ 29%]
tests/test_protection_analysis.py::TestBuildDeviceFromVendorCurve::test_build_abb_si_device PASSED [ 29%]
tests/test_protection_analysis.py::TestBuildDeviceFromVendorCurve::test_build_siemens_ei_device PASSED [ 29%]
tests/test_protection_analysis.py::TestBuildDeviceFromVendorCurve::test_build_unknown_vendor_curve_raises PASSED [ 29%]
tests/test_protection_analysis.py::TestVendorCurveDeterminism::test_vendor_device_determinism PASSED [ 29%]
tests/test_protection_analysis.py::TestVendorTraceAudit::test_trace_contains_vendor_audit_fields PASSED [ 29%]
tests/test_protection_analysis.py::TestVendorTraceAudit::test_device_to_dict_includes_vendor_fields PASSED [ 29%]
tests/test_protection_analysis.py::TestVendorBoundaryConditions::test_vendor_curve_at_10x_pickup PASSED [ 29%]
tests/test_protection_analysis.py::TestVendorBoundaryConditions::test_vendor_curve_no_trip_below_pickup PASSED [ 30%]
tests/test_protection_analysis.py::TestListSupportedVendorCurves::test_list_contains_all_registered_curves PASSED [ 30%]
tests/test_protection_comparison.py::TestProtectionComparisonRow::test_serialization_roundtrip PASSED [ 30%]
tests/test_protection_comparison.py::TestRankingIssue::test_serialization_roundtrip PASSED [ 30%]
tests/test_protection_comparison.py::TestIssueSeverityMap::test_trip_lost_is_critical PASSED [ 30%]
tests/test_protection_comparison.py::TestIssueSeverityMap::test_invalid_state_is_major PASSED [ 30%]
tests/test_protection_comparison.py::TestIssueSeverityMap::test_delay_increased_is_moderate PASSED [ 30%]
tests/test_protection_comparison.py::TestIssueSeverityMap::test_all_codes_have_severity PASSED [ 30%]
tests/test_protection_comparison.py::TestDeterminism::test_input_hash_is_deterministic PASSED [ 30%]
tests/test_protection_comparison.py::TestDeterminism::test_input_hash_order_matters PASSED [ 30%]
tests/test_protection_comparison.py::TestDeterminism::test_comparison_result_serialization_is_deterministic PASSED [ 30%]
tests/test_protection_comparison.py::TestDeterminism::test_ranking_sort_is_deterministic PASSED [ 30%]
tests/test_protection_comparison.py::TestStateChangeClassification::test_no_change_when_both_trip PASSED [ 30%]
tests/test_protection_comparison.py::TestStateChangeClassification::test_trip_to_no_trip PASSED [ 30%]
tests/test_protection_comparison.py::TestStateChangeClassification::test_no_trip_to_trip PASSED [ 30%]
tests/test_protection_comparison.py::TestStateChangeClassification::test_invalid_change PASSED [ 31%]
tests/test_protection_comparison.py::TestProtectionComparisonTrace::test_trace_serialization_roundtrip PASSED [ 31%]
tests/test_protection_comparison.py::TestSummaryCalculation::test_summary_counts PASSED [ 31%]
tests/test_protection_comparison.py::TestSummaryCalculation::test_summary_serialization PASSED [ 31%]
tests/test_protection_comparison.py::TestValidationErrors::test_run_not_found_error_message PASSED [ 31%]
tests/test_protection_comparison.py::TestValidationErrors::test_run_not_finished_error_message PASSED [ 31%]
tests/test_protection_comparison.py::TestValidationErrors::test_project_mismatch_error_message PASSED [ 31%]
tests/test_protection_comparison.py::TestComparisonLogic::test_trip_lost_generates_critical_issue PASSED [ 31%]
tests/test_protection_comparison.py::TestComparisonLogic::test_comparison_result_immutability PASSED [ 31%]
tests/test_protection_library.py::test_protection_types_are_frozen PASSED [ 31%]
tests/test_protection_library.py::test_protection_library_lists_deterministically PASSED [ 31%]
tests/test_protection_library.py::test_protection_library_get_methods PASSED [ 31%]
tests/test_protection_library.py::test_protection_types_to_dict_from_dict PASSED [ 31%]
tests/test_protection_library.py::test_protection_export_deterministic_fingerprint PASSED [ 31%]
tests/test_protection_library.py::test_protection_import_merge_adds_new_skips_existing PASSED [ 31%]
tests/test_protection_library.py::test_protection_import_merge_detects_conflicts PASSED [ 32%]
tests/test_protection_library.py::test_protection_import_validates_template_references PASSED [ 32%]
tests/test_protection_library.py::test_protection_sort_deterministic PASSED [ 32%]
tests/test_result_api_contract.py::TestShortCircuitResultContract::test_result_has_all_contract_attributes PASSED [ 32%]
tests/test_result_api_contract.py::TestShortCircuitResultContract::test_result_attributes_have_correct_types PASSED [ 32%]
tests/test_result_api_contract.py::TestShortCircuitResultContract::test_white_box_trace_is_non_empty_list PASSED [ 32%]
tests/test_result_api_contract.py::TestShortCircuitResultContract::test_contributions_have_correct_structure PASSED [ 32%]
tests/test_result_api_contract.py::TestToDictContract::test_to_dict_returns_dict_with_contract_keys PASSED [ 32%]
tests/test_result_api_contract.py::TestToDictContract::test_to_dict_is_json_serializable PASSED [ 32%]
tests/test_result_api_contract.py::TestToDictContract::test_to_dict_complex_is_serialized_as_dict PASSED [ 32%]
tests/test_result_api_contract.py::TestToDictContract::test_to_dict_enum_is_string PASSED [ 32%]
tests/test_result_api_contract.py::TestToDictContract::test_to_dict_contributions_are_list_of_dicts PASSED [ 32%]
tests/test_result_api_contract.py::TestToDictContract::test_to_dict_white_box_trace_is_list PASSED [ 32%]
tests/test_result_api_contract.py::TestSinglePhaseResultContract::test_1ph_result_has_all_contract_attributes PASSED [ 32%]
tests/test_result_api_contract.py::TestSinglePhaseResultContract::test_1ph_white_box_trace_has_z0_info PASSED [ 33%]
tests/test_result_api_contract.py::TestSinglePhaseResultContract::test_1ph_to_dict_is_json_serializable PASSED [ 33%]
tests/test_result_api_contract.py::TestBranchContributionsContract::test_branch_contributions_when_enabled PASSED [ 33%]
tests/test_result_api_contract.py::TestBranchContributionsContract::test_branch_contributions_to_dict_structure PASSED [ 33%]
tests/test_result_api_contract.py::TestContractConstant::test_contract_keys_match_dataclass_fields PASSED [ 33%]
tests/test_result_api_contract.py::TestContractConstant::test_contract_has_minimum_required_keys PASSED [ 33%]
tests/test_result_api_contract.py::TestAllFaultTypesContract::test_3ph_contract PASSED [ 33%]
tests/test_result_api_contract.py::TestAllFaultTypesContract::test_2ph_contract PASSED [ 33%]
tests/test_result_api_contract.py::TestAllFaultTypesContract::test_1ph_contract PASSED [ 33%]
tests/test_result_api_contract.py::TestAllFaultTypesContract::test_2ph_ground_contract PASSED [ 33%]
tests/test_short_circuit_export.py::TestExportShortCircuitResultToJson::test_export_creates_file PASSED [ 33%]
tests/test_short_circuit_export.py::TestExportShortCircuitResultToJson::test_export_creates_parent_directories PASSED [ 33%]
tests/test_short_circuit_export.py::TestExportShortCircuitResultToJson::test_export_produces_valid_json PASSED [ 33%]
tests/test_short_circuit_export.py::TestExportShortCircuitResultToJson::test_export_contains_all_contract_keys PASSED [ 33%]
tests/test_short_circuit_export.py::TestExportShortCircuitResultToJson::test_export_zkk_ohm_is_dict_with_re_im PASSED [ 33%]
tests/test_short_circuit_export.py::TestExportShortCircuitResultToJson::test_export_white_box_trace_is_list PASSED [ 34%]
tests/test_short_circuit_export.py::TestExportShortCircuitResultToJson::test_export_with_custom_indent PASSED [ 34%]
tests/test_short_circuit_export.py::TestExportShortCircuitResultToJson::test_export_accepts_string_path PASSED [ 34%]
tests/test_short_circuit_export.py::TestExportShortCircuitResultsToJsonl::test_export_creates_jsonl_file PASSED [ 34%]
tests/test_short_circuit_export.py::TestExportShortCircuitResultsToJsonl::test_export_jsonl_each_line_is_valid_json PASSED [ 34%]
tests/test_short_circuit_export.py::TestExportShortCircuitResultsToJsonl::test_export_jsonl_each_record_has_contract_keys PASSED [ 34%]
tests/test_short_circuit_export.py::TestExportShortCircuitResultsToJsonl::test_export_jsonl_preserves_fault_types PASSED [ 34%]
tests/test_short_circuit_export.py::TestExportShortCircuitResultsToJsonl::test_export_jsonl_creates_parent_directories PASSED [ 34%]
tests/test_short_circuit_export.py::TestExportShortCircuitResultsToJsonl::test_export_jsonl_empty_list PASSED [ 34%]
tests/test_short_circuit_export.py::TestExportErrorHandling::test_export_validates_to_dict_returns_dict PASSED [ 34%]
tests/test_short_circuit_export.py::TestExportErrorHandling::test_export_jsonl_reports_record_index_on_error PASSED [ 34%]
tests/test_short_circuit_iec60909.py::test_ikss_3ph_transformer_only_matches_formula PASSED [ 34%]
tests/test_short_circuit_iec60909.py::test_ikss_increases_with_c_factor PASSED [ 34%]
tests/test_short_circuit_iec60909.py::test_ikss_min_less_than_max PASSED [ 34%]
tests/test_short_circuit_iec60909.py::test_ikss_min_matches_wrapper_formula PASSED [ 34%]
tests/test_short_circuit_iec60909.py::test_ikss_max_matches_wrapper_formula PASSED [ 35%]
tests/test_short_circuit_iec60909.py::test_invalid_fault_node_raises PASSED [ 35%]
tests/test_short_circuit_iec60909.py::test_nonpositive_c_factor_raises[0.0] PASSED [ 35%]
tests/test_short_circuit_iec60909.py::test_nonpositive_c_factor_raises[-0.5] PASSED [ 35%]
tests/test_short_circuit_iec60909.py::test_nonpositive_tk_raises[0.0] PASSED [ 35%]
tests/test_short_circuit_iec60909.py::test_nonpositive_tk_raises[-1.0] PASSED [ 35%]
tests/test_short_circuit_iec60909.py::test_ip_exceeds_sqrt2_times_ikss PASSED [ 35%]
tests/test_short_circuit_iec60909.py::test_sk_matches_formula PASSED     [ 35%]
tests/test_short_circuit_iec60909.py::test_post_processing_quantities_match_ikss_formula PASSED [ 35%]
tests/test_short_circuit_iec60909.py::test_ib_is_ge_ikss_and_decays_with_time PASSED [ 35%]
tests/test_short_circuit_iec60909.py::test_ib_equals_ikss_when_time_constant_is_zeroish PASSED [ 35%]
tests/test_short_circuit_iec60909.py::test_increasing_rx_ratio_reduces_kappa_and_ip PASSED [ 35%]
tests/test_short_circuit_iec60909.py::test_ith_scales_with_time PASSED   [ 35%]
tests/test_short_circuit_iec60909.py::test_zkk_from_inverse_ybus PASSED  [ 35%]
tests/test_short_circuit_iec60909.py::test_unbalanced_fault_currents_are_ordered PASSED [ 36%]
tests/test_short_circuit_iec60909.py::test_white_box_trace_has_expected_steps PASSED [ 36%]
tests/test_short_circuit_iec60909.py::test_2ph_ground_depends_on_z0_and_requires_it PASSED [ 36%]
tests/test_short_circuit_iec60909.py::test_no_inverter_sources_keeps_ik_totals_equal PASSED [ 36%]
tests/test_short_circuit_iec60909.py::test_inverter_adds_current_to_3ph_fault PASSED [ 36%]
tests/test_short_circuit_iec60909.py::test_inverter_zero_sequence_controls_1ph_and_2ph_ground PASSED [ 36%]
tests/test_short_circuit_iec60909.py::test_inverter_contribution_is_deterministic PASSED [ 36%]
tests/test_short_circuit_iec60909.py::test_contributions_contains_grid_and_inverters PASSED [ 36%]
tests/test_short_circuit_iec60909.py::test_contributions_deterministic_order PASSED [ 36%]
tests/test_short_circuit_iec60909.py::test_contributions_respect_fault_type_flags PASSED [ 36%]
tests/test_short_circuit_iec60909.py::test_branch_contributions_basic PASSED [ 36%]
tests/test_short_circuit_report_docx.py::TestExportShortCircuitResultToDocx::test_export_creates_file PASSED [ 36%]
tests/test_short_circuit_report_docx.py::TestExportShortCircuitResultToDocx::test_export_creates_non_empty_file PASSED [ 36%]
tests/test_short_circuit_report_docx.py::TestExportShortCircuitResultToDocx::test_export_creates_parent_directories PASSED [ 36%]
tests/test_short_circuit_report_docx.py::TestExportShortCircuitResultToDocx::test_export_produces_openable_docx PASSED [ 36%]
tests/test_short_circuit_report_docx.py::TestExportShortCircuitResultToDocx::test_export_contains_default_title PASSED [ 37%]
tests/test_short_circuit_report_docx.py::TestExportShortCircuitResultToDocx::test_export_contains_results_section PASSED [ 37%]
tests/test_short_circuit_report_docx.py::TestExportShortCircuitResultToDocx::test_export_contains_key_result_labels PASSED [ 37%]
tests/test_short_circuit_report_docx.py::TestExportShortCircuitResultToDocx::test_export_contains_white_box_section PASSED [ 37%]
tests/test_short_circuit_report_docx.py::TestExportShortCircuitResultToDocx::test_export_with_custom_title PASSED [ 37%]
tests/test_short_circuit_report_docx.py::TestExportShortCircuitResultToDocx::test_export_accepts_string_path PASSED [ 37%]
tests/test_short_circuit_report_docx.py::TestExportWithoutWhiteBox::test_export_without_white_box_creates_file PASSED [ 37%]
tests/test_short_circuit_report_docx.py::TestExportWithoutWhiteBox::test_export_without_white_box_contains_results PASSED [ 37%]
tests/test_short_circuit_report_docx.py::TestExportWithoutWhiteBox::test_export_without_white_box_omits_white_box_section PASSED [ 37%]
tests/test_short_circuit_report_docx.py::TestExportErrorHandling::test_export_validates_to_dict_returns_dict PASSED [ 37%]
tests/test_short_circuit_report_pdf.py::TestExportShortCircuitResultToPdf::test_export_creates_file PASSED [ 37%]
tests/test_short_circuit_report_pdf.py::TestExportShortCircuitResultToPdf::test_export_creates_non_empty_file PASSED [ 37%]
tests/test_short_circuit_report_pdf.py::TestExportShortCircuitResultToPdf::test_export_creates_valid_pdf_header PASSED [ 37%]
tests/test_short_circuit_report_pdf.py::TestExportShortCircuitResultToPdf::test_export_creates_parent_directories PASSED [ 37%]
tests/test_short_circuit_report_pdf.py::TestExportShortCircuitResultToPdf::test_export_with_custom_title PASSED [ 38%]
tests/test_short_circuit_report_pdf.py::TestExportShortCircuitResultToPdf::test_export_accepts_string_path PASSED [ 38%]
tests/test_short_circuit_report_pdf.py::TestExportPdfWithoutWhiteBox::test_export_without_white_box_creates_file PASSED [ 38%]
tests/test_short_circuit_report_pdf.py::TestExportPdfWithoutWhiteBox::test_export_without_white_box_has_valid_pdf_header PASSED [ 38%]
tests/test_short_circuit_report_pdf.py::TestExportPdfErrorHandling::test_export_validates_to_dict_returns_dict PASSED [ 38%]
tests/test_short_circuit_report_pdf.py::TestExportPdfWhenReportlabUnavailable::test_import_error_raised_when_reportlab_missing SKIPPED [ 38%]
tests/test_sld_projection.py::test_project_two_buses_one_branch PASSED   [ 38%]
tests/test_sld_projection.py::test_pcc_marker_not_in_projection PASSED   [ 38%]
tests/test_sld_projection.py::test_in_service_false_excludes_entity PASSED [ 38%]
tests/test_sld_projection.py::test_parallel_branches_are_distinct_elements PASSED [ 38%]
tests/test_sld_projection.py::test_projection_is_deterministic PASSED    [ 38%]
tests/test_station.py::TestStationCreation::test_create_main_substation PASSED [ 38%]
tests/test_station.py::TestStationCreation::test_create_distribution_station PASSED [ 38%]
tests/test_station.py::TestStationCreation::test_create_transformer_station PASSED [ 38%]
tests/test_station.py::TestStationCreation::test_create_switching_station PASSED [ 38%]
tests/test_station.py::TestStationCreation::test_station_type_from_string PASSED [ 39%]
tests/test_station.py::TestStationElementManagement::test_add_bus_to_station PASSED [ 39%]
tests/test_station.py::TestStationElementManagement::test_add_bus_idempotent PASSED [ 39%]
tests/test_station.py::TestStationElementManagement::test_remove_bus_from_station PASSED [ 39%]
tests/test_station.py::TestStationElementManagement::test_remove_nonexistent_bus_is_noop PASSED [ 39%]
tests/test_station.py::TestStationElementManagement::test_add_branch_to_station PASSED [ 39%]
tests/test_station.py::TestStationElementManagement::test_remove_branch_from_station PASSED [ 39%]
tests/test_station.py::TestStationElementManagement::test_add_switch_to_station PASSED [ 39%]
tests/test_station.py::TestStationElementManagement::test_remove_switch_from_station PASSED [ 39%]
tests/test_station.py::TestStationContains::test_contains_bus PASSED     [ 39%]
tests/test_station.py::TestStationContains::test_contains_branch PASSED  [ 39%]
tests/test_station.py::TestStationContains::test_contains_switch PASSED  [ 39%]
tests/test_station.py::TestStationContains::test_get_all_element_ids PASSED [ 39%]
tests/test_station.py::TestStationValidation::test_valid_station PASSED  [ 39%]
tests/test_station.py::TestStationValidation::test_empty_id_fails_validation PASSED [ 39%]
tests/test_station.py::TestStationValidation::test_empty_name_fails_validation PASSED [ 40%]
tests/test_station.py::TestStationValidation::test_negative_voltage_fails_validation PASSED [ 40%]
tests/test_station.py::TestStationSerialization::test_to_dict PASSED     [ 40%]
tests/test_station.py::TestStationSerialization::test_from_dict PASSED   [ 40%]
tests/test_station.py::TestStationSerialization::test_roundtrip_serialization PASSED [ 40%]
tests/test_station.py::TestNetworkGraphStationIntegration::test_add_station_to_graph PASSED [ 40%]
tests/test_station.py::TestNetworkGraphStationIntegration::test_add_duplicate_station_raises PASSED [ 40%]
tests/test_station.py::TestNetworkGraphStationIntegration::test_remove_station_from_graph PASSED [ 40%]
tests/test_station.py::TestNetworkGraphStationIntegration::test_remove_nonexistent_station_raises PASSED [ 40%]
tests/test_station.py::TestNetworkGraphStationIntegration::test_get_station_optional PASSED [ 40%]
tests/test_station.py::TestNetworkGraphStationIntegration::test_list_stations PASSED [ 40%]
tests/test_station.py::TestNetworkGraphStationIntegration::test_get_station_for_bus PASSED [ 40%]
tests/test_station.py::TestNetworkGraphStationIntegration::test_get_station_for_bus_not_found PASSED [ 40%]
tests/test_station.py::TestNetworkGraphStationIntegration::test_get_station_for_element PASSED [ 40%]
tests/test_station.py::TestNetworkGraphStationIntegration::test_station_does_not_affect_topology PASSED [ 41%]
tests/test_station.py::TestNetworkGraphStationIntegration::test_graph_repr_includes_stations PASSED [ 41%]
tests/test_station.py::TestStationRepr::test_repr PASSED                 [ 41%]
tests/test_ybus.py::test_ybus_single_line_between_two_nodes PASSED       [ 41%]
tests/test_ybus.py::test_ybus_parallel_lines_between_two_nodes PASSED    [ 41%]
tests/test_ybus.py::test_ybus_ignores_out_of_service_branch PASSED       [ 41%]
tests/test_ybus.py::test_ybus_includes_isolated_node_in_matrix_size PASSED [ 41%]
tests/test_ybus.py::test_transformer_zk_rk_xk_pu PASSED                  [ 41%]
tests/test_ybus.py::test_transformer_impedance_ohm_lv PASSED             [ 41%]
tests/test_ybus.py::test_voltage_factor_c_lv PASSED                      [ 41%]
tests/test_ybus.py::test_voltage_factor_c_mv PASSED                      [ 41%]
tests/test_ybus.py::test_ikss_lv_scales_with_c PASSED                    [ 41%]
tests/test_ybus.py::test_ikss_lv_rejects_nonpositive_c PASSED            [ 41%]
tests/test_ybus.py::test_transformer_stamping_between_two_nodes PASSED   [ 41%]
tests/test_ybus.py::test_transformer_ignored_when_out_of_service PASSED  [ 41%]
tests/analysis/test_boundary_identifier.py::test_external_grid_identifies_pcc PASSED [ 42%]
tests/analysis/test_boundary_identifier.py::test_fallback_generator_dominant_boundary PASSED [ 42%]
tests/analysis/test_boundary_identifier.py::test_ambiguity_returns_none_with_diagnostics PASSED [ 42%]
tests/analysis/test_boundary_identifier.py::test_deterministic_identification PASSED [ 42%]
tests/analysis/test_coverage_score.py::test_coverage_score_gap_detection PASSED [ 42%]
tests/analysis/test_coverage_score.py::test_coverage_score_deterministic PASSED [ 42%]
tests/analysis/test_lf_sensitivity_p33.py::test_p33_determinism_to_dict PASSED [ 42%]
tests/analysis/test_lf_sensitivity_p33.py::test_p33_ranking_stability PASSED [ 42%]
tests/analysis/test_lf_sensitivity_p33.py::test_p33_driver_math_sanity PASSED [ 42%]
tests/analysis/test_lf_sensitivity_p33.py::test_p33_not_computed_propagation PASSED [ 42%]
tests/analysis/test_normative_p20.py::test_normative_report_determinism PASSED [ 42%]
tests/analysis/test_normative_p20.py::test_p15_thresholds_and_missing_keys PASSED [ 42%]
tests/analysis/test_normative_p20.py::test_p18_boolean_statuses PASSED   [ 42%]
tests/analysis/test_normative_p20.py::test_p19_limits_and_not_evaluated PASSED [ 42%]
tests/analysis/test_normative_p20.py::test_sorting_is_deterministic PASSED [ 42%]
tests/analysis/test_pdf_report_p24_plus.py::test_pdf_report_deterministic PASSED [ 43%]
tests/analysis/test_pdf_report_p24_plus.py::test_pdf_report_includes_not_computed_section PASSED [ 43%]
tests/analysis/test_pdf_report_p24_plus.py::test_pdf_report_includes_why_and_ranking_sort PASSED [ 43%]
tests/analysis/test_power_flow_interpretation_p22.py::test_interpretation_determinism PASSED [ 43%]
tests/analysis/test_power_flow_interpretation_p22.py::test_interpretation_id_determinism PASSED [ 43%]
tests/analysis/test_power_flow_interpretation_p22.py::test_voltage_severity_info PASSED [ 43%]
tests/analysis/test_power_flow_interpretation_p22.py::test_voltage_severity_warn PASSED [ 43%]
tests/analysis/test_power_flow_interpretation_p22.py::test_voltage_severity_high PASSED [ 43%]
tests/analysis/test_power_flow_interpretation_p22.py::test_ranking_order PASSED [ 43%]
tests/analysis/test_power_flow_interpretation_p22.py::test_summary_counts PASSED [ 43%]
tests/analysis/test_power_flow_interpretation_p22.py::test_polish_descriptions PASSED [ 43%]
tests/analysis/test_power_flow_interpretation_p22.py::test_trace_contains_thresholds PASSED [ 43%]
tests/analysis/test_power_flow_interpretation_p22.py::test_trace_contains_rules PASSED [ 43%]
tests/analysis/test_power_flow_interpretation_p22.py::test_trace_contains_data_sources PASSED [ 43%]
tests/analysis/test_power_flow_interpretation_p22.py::test_serialization_roundtrip PASSED [ 44%]
tests/analysis/test_power_flow_interpretation_p22.py::test_no_context_handling PASSED [ 44%]
tests/analysis/test_power_flow_interpretation_p22.py::test_empty_power_flow_result PASSED [ 44%]
tests/analysis/test_power_flow_interpretation_p22.py::test_ranking_tie_breaker_by_element_type PASSED [ 44%]
tests/analysis/test_power_flow_interpretation_p22.py::test_ranking_tie_breaker_by_element_id PASSED [ 44%]
tests/analysis/test_power_flow_interpretation_p22.py::test_ranking_tie_breaker_determinism_multiple_runs PASSED [ 44%]
tests/analysis/test_protection_curves_it_cp22.py::test_builder_sorting_and_markers PASSED [ 44%]
tests/analysis/test_protection_curves_it_cp22.py::test_builder_not_evaluated_when_missing_data PASSED [ 44%]
tests/analysis/test_protection_curves_it_cp22.py::test_renderers_are_deterministic PASSED [ 44%]
tests/analysis/test_protection_insight_p22a.py::test_protection_insight_determinism_to_dict PASSED [ 44%]
tests/analysis/test_protection_insight_p22a.py::test_protection_insight_margin_calculation PASSED [ 44%]
tests/analysis/test_protection_insight_p22a.py::test_protection_insight_not_evaluated_when_missing PASSED [ 44%]
tests/analysis/test_protection_insight_p22a.py::test_protection_insight_sorting_contract PASSED [ 44%]
tests/analysis/test_recommendations.py::test_recommendations_minimal_delta PASSED [ 44%]
tests/analysis/test_recommendations.py::test_recommendations_not_computed PASSED [ 44%]
tests/analysis/test_recommendations.py::test_recommendations_deterministic PASSED [ 45%]
tests/analysis/test_scenario_comparison.py::test_scenario_comparison_ordering PASSED [ 45%]
tests/analysis/test_scenario_comparison.py::test_scenario_comparison_deterministic PASSED [ 45%]
tests/analysis/test_sensitivity.py::test_sensitivity_ranking_stable PASSED [ 45%]
tests/analysis/test_sensitivity.py::test_sensitivity_margin_math_short_circuit PASSED [ 45%]
tests/analysis/test_sensitivity.py::test_sensitivity_not_computed_propagation PASSED [ 45%]
tests/analysis/test_voltage_profile_p21.py::test_voltage_profile_determinism PASSED [ 45%]
tests/analysis/test_voltage_profile_p21.py::test_voltage_profile_threshold_statuses PASSED [ 45%]
tests/analysis/test_voltage_profile_p21.py::test_voltage_profile_sorting PASSED [ 45%]
tests/analysis/test_voltage_profile_p21.py::test_voltage_profile_not_computed PASSED [ 45%]
tests/analysis/test_voltage_violations.py::TestVoltageViolationsBasic::test_no_violations_when_all_ok PASSED [ 45%]
tests/analysis/test_voltage_violations.py::TestVoltageViolationsBasic::test_detects_undervoltage PASSED [ 45%]
tests/analysis/test_voltage_violations.py::TestVoltageViolationsBasic::test_detects_overvoltage PASSED [ 45%]
tests/analysis/test_voltage_violations.py::TestVoltageViolationsBasic::test_total_violations_count PASSED [ 45%]
tests/analysis/test_voltage_violations.py::TestCustomLimits::test_custom_limits_per_bus PASSED [ 46%]
tests/analysis/test_voltage_violations.py::TestCustomLimits::test_bus_info_limits_used PASSED [ 46%]
tests/analysis/test_voltage_violations.py::TestCustomLimits::test_custom_limits_override_bus_info PASSED [ 46%]
tests/analysis/test_voltage_violations.py::TestWorstViolation::test_worst_undervoltage_identified PASSED [ 46%]
tests/analysis/test_voltage_violations.py::TestWorstViolation::test_worst_overvoltage_identified PASSED [ 46%]
tests/analysis/test_voltage_violations.py::TestWorstViolation::test_deviation_percent_correct PASSED [ 46%]
tests/analysis/test_voltage_violations.py::TestBusInfo::test_bus_name_from_bus_info PASSED [ 46%]
tests/analysis/test_voltage_violations.py::TestBusInfo::test_voltage_kv_calculated PASSED [ 46%]
tests/analysis/test_voltage_violations.py::TestBusInfo::test_voltage_kv_none_without_bus_info PASSED [ 46%]
tests/analysis/test_voltage_violations.py::TestBusInfo::test_bus_id_as_name_fallback PASSED [ 46%]
tests/analysis/test_voltage_violations.py::TestDetectFromDict::test_detect_from_dict_basic PASSED [ 46%]
tests/analysis/test_voltage_violations.py::TestDetectFromDict::test_detect_from_dict_with_custom_limits PASSED [ 46%]
tests/analysis/test_voltage_violations.py::TestDeterminism::test_detection_determinism PASSED [ 46%]
tests/analysis/test_voltage_violations.py::TestDeterminism::test_violations_sorted_by_bus_id PASSED [ 46%]
tests/analysis/test_voltage_violations.py::TestSerialization::test_violation_to_dict PASSED [ 46%]
tests/analysis/test_voltage_violations.py::TestSerialization::test_result_to_dict PASSED [ 47%]
tests/analysis/test_voltage_violations.py::TestSerialization::test_serialization_roundtrip PASSED [ 47%]
tests/analysis/test_voltage_violations.py::TestEdgeCases::test_empty_pf_result PASSED [ 47%]
tests/analysis/test_voltage_violations.py::TestEdgeCases::test_voltage_exactly_at_limit PASSED [ 47%]
tests/analysis/test_voltage_violations.py::TestEdgeCases::test_voltage_just_below_limit PASSED [ 47%]
tests/analysis/test_voltage_violations.py::TestEdgeCases::test_voltage_just_above_limit PASSED [ 47%]
tests/analysis/test_voltage_violations.py::TestEdgeCases::test_invalid_default_limits_raises PASSED [ 47%]
tests/analysis/test_voltage_violations.py::TestEdgeCases::test_equal_default_limits_raises PASSED [ 47%]
tests/analysis/test_voltage_violations.py::TestEdgeCases::test_single_bus_pf_result PASSED [ 47%]
tests/analysis/test_voltage_violations.py::TestEdgeCases::test_custom_default_limits PASSED [ 47%]
tests/analysis/test_voltage_violations.py::TestViolationType::test_violation_type_values PASSED [ 47%]
tests/analysis/test_voltage_violations.py::TestViolationType::test_violation_type_in_result PASSED [ 47%]
tests/analysis/test_voltage_violations.py::TestPdfReport::test_export_to_pdf_creates_file PASSED [ 47%]
tests/analysis/test_voltage_violations.py::TestPdfReport::test_export_to_pdf_with_metadata PASSED [ 47%]
tests/analysis/test_voltage_violations.py::TestPdfReport::test_export_to_bytes PASSED [ 47%]
tests/analysis/test_voltage_violations.py::TestPdfReport::test_export_empty_violations PASSED [ 48%]
tests/analysis/test_voltage_violations.py::TestPdfReport::test_export_creates_parent_directories PASSED [ 48%]
tests/api/test_analysis_run_api.py::test_api_list_runs_includes_trace_summary PASSED [ 48%]
tests/api/test_analysis_run_api.py::test_api_get_run_detail_includes_summary PASSED [ 48%]
tests/api/test_analysis_run_api.py::test_api_get_results_returns_saved_results PASSED [ 48%]
tests/api/test_analysis_run_api.py::test_api_get_overlay_returns_overlay_payload PASSED [ 48%]
tests/api/test_analysis_run_api.py::test_api_get_trace_returns_white_box_trace_for_sc PASSED [ 48%]
tests/api/test_analysis_run_api.py::test_api_get_trace_summary_deterministic PASSED [ 48%]
tests/api/test_analysis_run_api.py::test_export_docx_returns_file PASSED [ 48%]
tests/api/test_analysis_run_api.py::test_export_pdf_returns_file PASSED  [ 48%]
tests/api/test_analysis_runs_index_api.py::test_analysis_runs_index_list_and_get PASSED [ 48%]
tests/api/test_analysis_runs_index_api.py::test_analysis_runs_index_get_missing_returns_404 PASSED [ 48%]
tests/api/test_analysis_runs_read_api.py::test_analysis_runs_read_unsupported_type PASSED [ 48%]
tests/api/test_analysis_runs_read_api.py::test_analysis_runs_read_empty_run_id_returns_422 PASSED [ 48%]
tests/api/test_analysis_runs_read_api.py::test_analysis_runs_read_design_synth_envelope PASSED [ 49%]
tests/api/test_analysis_runs_read_api.py::test_analysis_runs_read_short_circuit_returns_404 PASSED [ 49%]
tests/api/test_design_synth_connection_study_api.py::test_connection_study_happy_path PASSED [ 49%]
tests/api/test_design_synth_connection_study_api.py::test_connection_study_missing_pcc_returns_422 PASSED [ 49%]
tests/api/test_projects.py::TestProjectsCRUD::test_create_project_minimal PASSED [ 49%]
tests/api/test_projects.py::TestProjectsCRUD::test_create_project_full PASSED [ 49%]
tests/api/test_projects.py::TestProjectsCRUD::test_create_project_with_60hz_frequency PASSED [ 49%]
tests/api/test_projects.py::TestProjectsCRUD::test_create_project_invalid_frequency PASSED [ 49%]
tests/api/test_projects.py::TestProjectsCRUD::test_create_project_invalid_voltage_zero PASSED [ 49%]
tests/api/test_projects.py::TestProjectsCRUD::test_create_project_invalid_voltage_negative PASSED [ 49%]
tests/api/test_projects.py::TestProjectsCRUD::test_create_project_empty_name PASSED [ 49%]
tests/api/test_projects.py::TestProjectsCRUD::test_create_project_missing_name PASSED [ 49%]
tests/api/test_projects.py::TestProjectsCRUD::test_list_projects_empty PASSED [ 49%]
tests/api/test_projects.py::TestProjectsCRUD::test_list_projects_after_create PASSED [ 49%]
tests/api/test_projects.py::TestProjectsCRUD::test_get_project_by_id PASSED [ 49%]
tests/api/test_projects.py::TestProjectsCRUD::test_get_project_not_found PASSED [ 50%]
tests/api/test_projects.py::TestProjectsCRUD::test_get_project_invalid_uuid PASSED [ 50%]
tests/api/test_projects.py::TestProjectsCRUD::test_delete_project PASSED [ 50%]
tests/api/test_projects.py::TestProjectsCRUD::test_delete_project_not_found PASSED [ 50%]
tests/api/test_projects.py::TestProjectsCRUD::test_delete_project_invalid_uuid PASSED [ 50%]
tests/api/test_projects.py::TestProjectsCRUD::test_persistence_across_requests PASSED [ 50%]
tests/api/test_projects.py::TestProjectsCRUD::test_deleted_project_not_in_list PASSED [ 50%]
tests/api/test_projects.py::TestProjectsCRUD::test_response_has_all_required_fields PASSED [ 50%]
tests/api/test_projects.py::TestProjectsCRUD::test_tests_are_independent PASSED [ 50%]
tests/api/test_projects.py::TestProjectsCRUD::test_create_project_strips_whitespace_from_name PASSED [ 50%]
tests/api/test_projects.py::TestProjectsCRUD::test_mode_as_is_is_default PASSED [ 50%]
tests/api/test_projects.py::TestProjectsCRUD::test_mode_to_be PASSED     [ 50%]
tests/api/test_projects.py::TestProjectsCRUD::test_invalid_mode PASSED   [ 50%]
tests/api/test_projects.py::TestProjectsListOrdering::test_list_is_ordered_by_created_at_desc PASSED [ 50%]
tests/api/test_proof_pack_api.py::test_proof_pack_api_returns_zip PASSED [ 50%]
tests/api/test_proof_pack_api.py::test_proof_pack_api_404_when_missing PASSED [ 51%]
tests/api/test_snapshot_api.py::test_get_snapshot_returns_persisted_snapshot PASSED [ 51%]
tests/api/test_snapshot_api.py::test_submit_action_accepts_and_creates_snapshot PASSED [ 51%]
tests/api/test_snapshot_api.py::test_submit_action_rejects_invalid_reference PASSED [ 51%]
tests/api/test_snapshot_api.py::test_submit_action_is_deterministic_on_same_parent PASSED [ 51%]
tests/api/test_snapshot_api.py::test_submit_batch_actions_accepts_and_creates_snapshot PASSED [ 51%]
tests/api/test_snapshot_api.py::test_submit_batch_actions_rejects_invalid_reference PASSED [ 51%]
tests/api/test_snapshot_api.py::test_submit_batch_actions_is_deterministic_on_same_parent PASSED [ 51%]
tests/api/test_snapshot_api.py::test_submit_batch_actions_rejected_is_atomic PASSED [ 51%]
tests/api/test_study_cases_api.py::test_create_study_case_after_project_creation PASSED [ 51%]
tests/application/test_study_scenario_workflow_p23.py::test_deterministic_ids_and_hashes PASSED [ 51%]
tests/application/test_study_scenario_workflow_p23.py::test_binding_not_computed_and_immutability PASSED [ 51%]
tests/application/test_study_scenario_workflow_p23.py::test_serialization_stability PASSED [ 51%]
tests/application/active_case/test_active_case_service.py::test_first_case_auto_sets_active_case PASSED [ 51%]
tests/application/active_case/test_active_case_service.py::test_calculate_requires_active_case PASSED [ 52%]
tests/application/active_case/test_active_case_service.py::test_set_active_case_drives_analysis_context PASSED [ 52%]
tests/application/analyses/test_run_envelope_design_synth_adapter.py::test_design_synth_run_envelope_adapter_is_deterministic PASSED [ 52%]
tests/application/analyses/test_run_envelope_iec60909_adapter.py::test_to_run_envelope_iec60909_deterministic PASSED [ 52%]
tests/application/analyses/design_synth/test_design_synth_m3_evidence_trace.py::test_design_synth_m3_evidence_trace_deterministic PASSED [ 52%]
tests/application/analyses/design_synth/test_design_synth_pipeline.py::test_design_synth_pipeline_end_to_end PASSED [ 52%]
tests/application/analyses/design_synth/test_design_synth_service.py::test_design_synth_service_roundtrip PASSED [ 52%]
tests/application/analyses/protection/test_base_values_resolver.py::TestLineInKnown::test_resolve_in_from_line PASSED [ 52%]
tests/application/analyses/protection/test_base_values_resolver.py::TestLineInKnown::test_computed_3x_in PASSED [ 52%]
tests/application/analyses/protection/test_base_values_resolver.py::TestTransformerInCalculated::test_resolve_in_from_transformer_lv_side PASSED [ 52%]
tests/application/analyses/protection/test_base_values_resolver.py::TestTransformerInCalculated::test_resolve_in_from_transformer_hv_side PASSED [ 52%]
tests/application/analyses/protection/test_base_values_resolver.py::TestTransformerInCalculated::test_computed_1_2x_in_transformer PASSED [ 52%]
tests/application/analyses/protection/test_base_values_resolver.py::TestMissingData::test_line_missing_rated_current PASSED [ 52%]
tests/application/analyses/protection/test_base_values_resolver.py::TestMissingData::test_missing_voltage PASSED [ 52%]
tests/application/analyses/protection/test_base_values_resolver.py::TestMissingData::test_computed_none_when_base_missing PASSED [ 52%]
tests/application/analyses/protection/test_base_values_resolver.py::TestVoltageProtection::test_resolve_un_from_bus PASSED [ 53%]
tests/application/analyses/protection/test_base_values_resolver.py::TestVoltageProtection::test_computed_0_8x_un_undervoltage PASSED [ 53%]
tests/application/analyses/protection/test_base_values_resolver.py::TestVoltageProtection::test_computed_1_15x_un_overvoltage PASSED [ 53%]
tests/application/analyses/protection/test_base_values_resolver.py::TestVoltageProtection::test_vt_primary_preferred_over_bus PASSED [ 53%]
tests/application/analyses/protection/test_base_values_resolver.py::TestFrequencyProtection::test_underfrequency_abs PASSED [ 53%]
tests/application/analyses/protection/test_base_values_resolver.py::TestFrequencyProtection::test_overfrequency_abs PASSED [ 53%]
tests/application/analyses/protection/test_base_values_resolver.py::TestFrequencyProtection::test_rocof_abs PASSED [ 53%]
tests/application/analyses/protection/test_base_values_resolver.py::TestComputedFromRequired::test_computed_value_requires_computed_from PASSED [ 53%]
tests/application/analyses/protection/test_base_values_resolver.py::TestComputedFromRequired::test_all_computed_values_have_computed_from PASSED [ 53%]
tests/application/analyses/protection/test_base_values_resolver.py::TestPccProtection::test_resolve_pcc_voltage PASSED [ 53%]
tests/application/analyses/protection/test_base_values_resolver.py::TestPccProtection::test_resolve_pcc_current PASSED [ 53%]
tests/application/analyses/protection/test_base_values_resolver.py::TestBreakerProtection::test_resolve_breaker_rated_current PASSED [ 53%]
tests/application/analyses/protection/test_base_values_resolver.py::TestModelInvariants::test_base_values_invariant_un PASSED [ 53%]
tests/application/analyses/protection/test_base_values_resolver.py::TestModelInvariants::test_base_values_invariant_in PASSED [ 53%]
tests/application/analyses/protection/test_base_values_resolver.py::TestModelInvariants::test_setpoint_in_requires_multiplier PASSED [ 53%]
tests/application/analyses/protection/test_base_values_resolver.py::TestModelInvariants::test_setpoint_un_requires_pu_unit PASSED [ 54%]
tests/application/analyses/protection/test_base_values_resolver.py::TestModelInvariants::test_setpoint_abs_requires_abs_value PASSED [ 54%]
tests/application/analyses/protection/test_base_values_resolver.py::TestSerialization::test_base_values_to_dict PASSED [ 54%]
tests/application/analyses/protection/test_base_values_resolver.py::TestSerialization::test_setpoint_to_dict PASSED [ 54%]
tests/application/analyses/protection/test_base_values_resolver.py::TestSerialization::test_computed_to_dict PASSED [ 54%]
tests/application/analyses/protection/test_base_values_resolver.py::TestSerialization::test_context_to_dict PASSED [ 54%]
tests/application/analyses/protection/test_overcurrent_settings_v0.py::test_overcurrent_v0_happy_path PASSED [ 54%]
tests/application/analyses/protection/test_overcurrent_settings_v0.py::test_overcurrent_v0_is_deterministic PASSED [ 54%]
tests/application/analyses/protection/test_overcurrent_settings_v0.py::test_overcurrent_v0_fallbacks PASSED [ 54%]
tests/application/analyses/protection/test_overcurrent_skeleton.py::test_overcurrent_skeleton_is_deterministic PASSED [ 54%]
tests/application/analyses/protection/test_sanity_checks.py::TestModelInvariants::test_result_requires_message_pl PASSED [ 54%]
tests/application/analyses/protection/test_sanity_checks.py::TestModelInvariants::test_result_requires_element_id PASSED [ 54%]
tests/application/analyses/protection/test_sanity_checks.py::TestModelInvariants::test_result_requires_element_type PASSED [ 54%]
tests/application/analyses/protection/test_sanity_checks.py::TestModelInvariants::test_result_to_dict PASSED [ 54%]
tests/application/analyses/protection/test_sanity_checks.py::TestNegativeSetpoint::test_negative_multiplier_error PASSED [ 55%]
tests/application/analyses/protection/test_sanity_checks.py::TestNegativeSetpoint::test_negative_abs_value_error PASSED [ 55%]
tests/application/analyses/protection/test_sanity_checks.py::TestNegativeSetpoint::test_positive_setpoint_no_error PASSED [ 55%]
tests/application/analyses/protection/test_sanity_checks.py::TestMissingBaseValues::test_missing_un_info PASSED [ 55%]
tests/application/analyses/protection/test_sanity_checks.py::TestMissingBaseValues::test_missing_in_info PASSED [ 55%]
tests/application/analyses/protection/test_sanity_checks.py::TestMissingBaseValues::test_no_missing_when_full PASSED [ 55%]
tests/application/analyses/protection/test_sanity_checks.py::TestVoltageMissingUn::test_missing_un_error PASSED [ 55%]
tests/application/analyses/protection/test_sanity_checks.py::TestVoltageMissingUn::test_un_present_no_error PASSED [ 55%]
tests/application/analyses/protection/test_sanity_checks.py::TestVoltageOverlap::test_voltage_overlap_error PASSED [ 55%]
tests/application/analyses/protection/test_sanity_checks.py::TestVoltageOverlap::test_voltage_equal_error PASSED [ 55%]
tests/application/analyses/protection/test_sanity_checks.py::TestVoltageOverlap::test_voltage_no_overlap PASSED [ 55%]
tests/application/analyses/protection/test_sanity_checks.py::TestVoltageULtTooLow::test_u_lt_too_low_warn PASSED [ 55%]
tests/application/analyses/protection/test_sanity_checks.py::TestVoltageULtTooLow::test_u_lt_ok PASSED [ 55%]
tests/application/analyses/protection/test_sanity_checks.py::TestVoltageUGtTooHigh::test_u_gt_too_high_warn PASSED [ 55%]
tests/application/analyses/protection/test_sanity_checks.py::TestVoltageUGtTooHigh::test_u_gt_ok PASSED [ 55%]
tests/application/analyses/protection/test_sanity_checks.py::TestFrequencyOverlap::test_freq_overlap_error PASSED [ 56%]
tests/application/analyses/protection/test_sanity_checks.py::TestFrequencyOverlap::test_freq_no_overlap PASSED [ 56%]
tests/application/analyses/protection/test_sanity_checks.py::TestFrequencyFLtTooLow::test_f_lt_too_low_warn PASSED [ 56%]
tests/application/analyses/protection/test_sanity_checks.py::TestFrequencyFLtTooLow::test_f_lt_ok PASSED [ 56%]
tests/application/analyses/protection/test_sanity_checks.py::TestFrequencyFGtTooHigh::test_f_gt_too_high_warn PASSED [ 56%]
tests/application/analyses/protection/test_sanity_checks.py::TestFrequencyFGtTooHigh::test_f_gt_ok PASSED [ 56%]
tests/application/analyses/protection/test_sanity_checks.py::TestRocofNonPositive::test_rocof_zero_warn PASSED [ 56%]
tests/application/analyses/protection/test_sanity_checks.py::TestRocofNonPositive::test_rocof_negative_warn PASSED [ 56%]
tests/application/analyses/protection/test_sanity_checks.py::TestRocofNonPositive::test_rocof_positive_ok PASSED [ 56%]
tests/application/analyses/protection/test_sanity_checks.py::TestRocofTooHigh::test_rocof_too_high_warn PASSED [ 56%]
tests/application/analyses/protection/test_sanity_checks.py::TestRocofTooHigh::test_rocof_ok PASSED [ 56%]
tests/application/analyses/protection/test_sanity_checks.py::TestOvercurrentMissingIn::test_missing_in_error PASSED [ 56%]
tests/application/analyses/protection/test_sanity_checks.py::TestOvercurrentMissingIn::test_in_present_no_error PASSED [ 56%]
tests/application/analyses/protection/test_sanity_checks.py::TestOvercurrentOverlap::test_oc_overlap_error PASSED [ 56%]
tests/application/analyses/protection/test_sanity_checks.py::TestOvercurrentOverlap::test_oc_no_overlap PASSED [ 57%]
tests/application/analyses/protection/test_sanity_checks.py::TestOvercurrentIGtTooLow::test_i_gt_too_low_warn PASSED [ 57%]
tests/application/analyses/protection/test_sanity_checks.py::TestOvercurrentIGtTooLow::test_i_gt_ok PASSED [ 57%]
tests/application/analyses/protection/test_sanity_checks.py::TestOvercurrentIInstTooLow::test_i_inst_too_low_warn PASSED [ 57%]
tests/application/analyses/protection/test_sanity_checks.py::TestOvercurrentIInstTooLow::test_i_inst_ok PASSED [ 57%]
tests/application/analyses/protection/test_sanity_checks.py::TestSpzNoTripFunction::test_spz_no_trip_warn PASSED [ 57%]
tests/application/analyses/protection/test_sanity_checks.py::TestSpzNoTripFunction::test_spz_with_trip_ok PASSED [ 57%]
tests/application/analyses/protection/test_sanity_checks.py::TestSpzMissingCycleData::test_spz_no_notes_info PASSED [ 57%]
tests/application/analyses/protection/test_sanity_checks.py::TestSpzMissingCycleData::test_spz_with_notes_ok PASSED [ 57%]
tests/application/analyses/protection/test_sanity_checks.py::TestDeterminism::test_results_sorted_by_element_id PASSED [ 57%]
tests/application/analyses/protection/test_sanity_checks.py::TestDeterminism::test_results_sorted_by_severity PASSED [ 57%]
tests/application/analyses/protection/test_sanity_checks.py::TestDeterminism::test_identical_runs_same_results PASSED [ 57%]
tests/application/analyses/protection/test_sanity_checks.py::TestEmptyFunctions::test_empty_functions_no_results PASSED [ 57%]
tests/application/analyses/protection/test_sanity_checks.py::TestIntegration::test_multiple_errors_and_warns PASSED [ 57%]
tests/application/analyses/protection/catalog/test_device_mapping_v0.py::test_device_mapping_accepts_supported_device PASSED [ 57%]
tests/application/analyses/protection/catalog/test_device_mapping_v0.py::test_device_mapping_rejects_missing_neutral_functions PASSED [ 58%]
tests/application/analyses/protection/catalog/test_device_mapping_v0.py::test_device_mapping_is_deterministic PASSED [ 58%]
tests/application/analyses/protection/catalog/test_elektrometal_etango_series_completeness.py::test_elektrometal_etango_series_is_complete_and_deterministic PASSED [ 58%]
tests/application/analyses/protection/catalog/test_vendor_adapter_v0.py::test_vendor_mapping_for_supported_device_is_deterministic PASSED [ 58%]
tests/application/analyses/protection/catalog/test_vendor_adapter_v0.py::test_vendor_mapping_flags_missing_neutral_functions PASSED [ 58%]
tests/application/analyses/protection/catalog/test_vendor_elektrometal_etango_v0.py::test_vendor_mapping_for_elektrometal_devices[EM_ETANGO_400_V0] PASSED [ 58%]
tests/application/analyses/protection/catalog/test_vendor_elektrometal_etango_v0.py::test_vendor_mapping_for_elektrometal_devices[EM_ETANGO_1000_V0] PASSED [ 58%]
tests/application/analyses/protection/catalog/test_vendor_elektrometal_etango_v0.py::test_elektrometal_vendor_mapping_is_deterministic PASSED [ 58%]
tests/application/analyses/protection/coordination/test_overcurrent_coordination.py::TestSensitivityCheck::test_sensitivity_pass PASSED [ 58%]
tests/application/analyses/protection/coordination/test_overcurrent_coordination.py::TestSensitivityCheck::test_sensitivity_marginal PASSED [ 58%]
tests/application/analyses/protection/coordination/test_overcurrent_coordination.py::TestSensitivityCheck::test_sensitivity_fail PASSED [ 58%]
tests/application/analyses/protection/coordination/test_overcurrent_coordination.py::TestOverloadCheck::test_overload_pass PASSED [ 58%]
tests/application/analyses/protection/coordination/test_overcurrent_coordination.py::TestOverloadCheck::test_overload_fail PASSED [ 58%]
tests/application/analyses/protection/coordination/test_overcurrent_coordination.py::TestSelectivityCheck::test_selectivity_requires_two_devices PASSED [ 58%]
tests/application/analyses/protection/coordination/test_overcurrent_coordination.py::TestSelectivityCheck::test_selectivity_pass PASSED [ 58%]
tests/application/analyses/protection/coordination/test_overcurrent_coordination.py::TestSelectivityCheck::test_selectivity_fail_negative_margin PASSED [ 59%]
tests/application/analyses/protection/coordination/test_overcurrent_coordination.py::TestTCCCurves::test_tcc_curves_generated PASSED [ 59%]
tests/application/analyses/protection/coordination/test_overcurrent_coordination.py::TestTCCCurves::test_tcc_curve_points_valid PASSED [ 59%]
tests/application/analyses/protection/coordination/test_overcurrent_coordination.py::TestDeterminism::test_same_input_same_output PASSED [ 59%]
tests/application/analyses/protection/coordination/test_overcurrent_coordination.py::TestOverallVerdict::test_overall_pass_when_all_pass PASSED [ 59%]
tests/application/analyses/protection/coordination/test_overcurrent_coordination.py::TestOverallVerdict::test_overall_fail_when_any_fails PASSED [ 59%]
tests/application/analyses/protection/coordination/test_overcurrent_coordination.py::TestWhiteBoxTrace::test_trace_steps_generated PASSED [ 59%]
tests/application/analyses/protection/coordination/test_overcurrent_coordination.py::TestWhiteBoxTrace::test_trace_has_polish_descriptions PASSED [ 59%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestConductorData::test_get_ithn_from_cross_section PASSED [ 59%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestConductorData::test_get_ithn_direct_value PASSED [ 59%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestConductorData::test_to_dict_serialization PASSED [ 59%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestSPZConfig::test_total_fault_time_disabled PASSED [ 59%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestSPZConfig::test_total_fault_time_single PASSED [ 59%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestSPZConfig::test_total_fault_time_double PASSED [ 59%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestSPZLookup::test_default_table_exists PASSED [ 60%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestSPZLookup::test_lookup_blocking PASSED [ 60%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestSPZLookup::test_lookup_allowed PASSED [ 60%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestSPZLookup::test_lookup_stability PASSED [ 60%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestAnalyzerValidWindow::test_analyze_returns_result PASSED [ 60%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestAnalyzerValidWindow::test_selectivity_criterion PASSED [ 60%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestAnalyzerValidWindow::test_sensitivity_criterion PASSED [ 60%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestAnalyzerValidWindow::test_thermal_criterion PASSED [ 60%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestAnalyzerValidWindow::test_setting_window_valid PASSED [ 60%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestAnalyzerValidWindow::test_overall_verdict_pass PASSED [ 60%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestAnalyzerValidWindow::test_recommendations_generated PASSED [ 60%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestAnalyzerConflictingWindow::test_setting_window_invalid PASSED [ 60%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestAnalyzerConflictingWindow::test_overall_verdict_fail PASSED [ 60%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestAnalyzerConflictingWindow::test_recommendations_for_conflict PASSED [ 60%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestAnalyzerSPZBlocking::test_spz_blocking_check_present PASSED [ 60%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestAnalyzerSPZBlocking::test_spz_blocking_absent_when_disabled PASSED [ 61%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestAnalyzerSPZBlocking::test_spz_blocking_high_current PASSED [ 61%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestAnalyzerELMode::test_el_diagnostic_present PASSED [ 61%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestAnalyzerELMode::test_el_contributions_calculated PASSED [ 61%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestAnalyzerELMode::test_zsz_blocking_risk PASSED [ 61%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestAnalyzerELMode::test_el_recommendations PASSED [ 61%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestDeterminism::test_identical_results_twice PASSED [ 61%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestDeterminism::test_trace_deterministic PASSED [ 61%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestDeterminism::test_json_serializable PASSED [ 61%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestWhiteBoxTrace::test_trace_steps_present PASSED [ 61%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestWhiteBoxTrace::test_trace_has_required_keys PASSED [ 61%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestWhiteBoxTrace::test_trace_covers_all_criteria PASSED [ 61%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestPolishLabels::test_verdict_labels_pl PASSED [ 61%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestPolishLabels::test_criterion_labels_pl PASSED [ 61%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestPolishLabels::test_notes_in_polish PASSED [ 61%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestEdgeCases::test_zero_ct_ratio PASSED [ 62%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestEdgeCases::test_zero_fault_currents PASSED [ 62%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestEdgeCases::test_very_high_kb PASSED [ 62%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestFix12Integration::test_instantaneous_selectivity_check_import PASSED [ 62%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestFix12Integration::test_instantaneous_sensitivity_check_import PASSED [ 62%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestFix12Integration::test_instantaneous_thermal_check_import PASSED [ 62%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestFix12Integration::test_spz_from_instantaneous_check_import PASSED [ 62%]
tests/application/analyses/protection/line_overcurrent_setting/test_line_overcurrent_setting.py::TestFix12Integration::test_check_serialization PASSED [ 62%]
tests/application/analysis_run/test_analysis_run_export_service.py::test_export_bundle_is_deterministic PASSED [ 62%]
tests/application/analysis_run/test_analysis_run_export_service.py::test_export_uses_persisted_data_only PASSED [ 62%]
tests/application/analysis_run/test_analysis_run_service.py::test_analysis_run_lifecycle_pf PASSED [ 62%]
tests/application/analysis_run/test_analysis_run_service.py::test_analysis_run_lifecycle_sc PASSED [ 62%]
tests/application/analysis_run/test_analysis_run_service.py::test_result_invalidation_on_network_change PASSED [ 62%]
tests/application/analysis_run/test_analysis_run_service.py::test_result_status_after_recalculate_and_case_change PASSED [ 62%]
tests/application/analysis_run/test_analysis_run_service.py::test_network_validator_blocks_invalid_model PASSED [ 63%]
tests/application/analysis_run/test_analysis_run_service.py::test_network_validator_warning_allows_solver PASSED [ 63%]
tests/application/analysis_run/test_analysis_run_service.py::test_validation_missing_slack PASSED [ 63%]
tests/application/analysis_run/test_analysis_run_service.py::test_validation_missing_pcc PASSED [ 63%]
tests/application/analysis_run/test_analysis_run_service.py::test_failed_run_sets_status PASSED [ 63%]
tests/application/analysis_run/test_analysis_run_service.py::test_short_circuit_blocked_in_nn_mode PASSED [ 63%]
tests/application/analysis_run/test_analysis_run_service.py::test_short_circuit_requires_grid_supply_flag PASSED [ 63%]
tests/application/analysis_run/test_analysis_run_service.py::test_fault_loop_blocked_in_sn_mode PASSED [ 63%]
tests/application/analysis_run/test_analysis_run_service.py::test_fault_loop_missing_nn_inputs_fails PASSED [ 63%]
tests/application/analysis_run/test_analysis_run_service.py::test_fault_loop_nn_solver_stubbed PASSED [ 63%]
tests/application/analysis_run/test_analysis_run_service.py::test_fault_loop_nn_deterministic_error_payload PASSED [ 63%]
tests/application/analysis_run/test_analysis_run_service.py::test_missing_project_design_mode_fails PASSED [ 63%]
tests/application/analysis_run/test_analysis_run_service.py::test_short_circuit_results_are_deterministic PASSED [ 63%]
tests/application/designer/test_constraints.py::test_can_run_blocks_incomplete_network PASSED [ 63%]
tests/application/designer/test_constraints.py::test_can_run_allows_power_flow_for_complete_network PASSED [ 63%]
tests/application/designer/test_constraints.py::test_can_run_blocks_analysis_without_results PASSED [ 64%]
tests/application/designer/test_constraints.py::test_can_run_allows_analysis_with_results PASSED [ 64%]
tests/application/designer/test_constraints.py::test_can_run_blocks_unsupported_action PASSED [ 64%]
tests/application/designer/test_engine.py::test_run_blocks_incomplete_network PASSED [ 64%]
tests/application/designer/test_engine.py::test_run_analysis_not_implemented PASSED [ 64%]
tests/application/designer/test_engine.py::test_run_requests_solver_action PASSED [ 64%]
tests/application/equipment_proof/test_equipment_proof.py::test_equipment_proof_pass_all PASSED [ 64%]
tests/application/equipment_proof/test_equipment_proof.py::test_equipment_proof_fail_missing_field PASSED [ 64%]
tests/application/equipment_proof/test_equipment_proof.py::test_equipment_proof_idyn_uses_ip_proxy_when_missing_idyn PASSED [ 64%]
tests/application/equipment_proof/test_equipment_proof.py::test_equipment_proof_ith_time_mismatch_fails_mvp PASSED [ 64%]
tests/application/equipment_proof/test_equipment_proof.py::test_equipment_proof_determinism_json PASSED [ 64%]
tests/application/equipment_proof/test_equipment_proof.py::test_equipment_proof_pack_deterministic_zip PASSED [ 64%]
tests/application/network_model/test_single_network_model.py::test_wizard_and_analysis_share_network_model_id PASSED [ 64%]
tests/application/network_model/test_single_network_model.py::test_mismatched_snapshot_model_id_raises PASSED [ 64%]
tests/application/network_wizard/test_bus_compat.py::test_parse_network_payload_accepts_bus_alias PASSED [ 65%]
tests/application/network_wizard/test_bus_compat.py::test_export_network_payload_emits_buses_alias PASSED [ 65%]
tests/application/network_wizard/test_import_export.py::test_import_export_roundtrip_and_determinism PASSED [ 65%]
tests/application/network_wizard/test_inverter_setpoints.py::test_inverter_setpoints_stored_on_case_only PASSED [ 65%]
tests/application/network_wizard/test_inverter_setpoints.py::test_inverter_setpoints_validation PASSED [ 65%]
tests/application/network_wizard/test_inverter_setpoints.py::test_power_flow_input_uses_case_setpoints_for_inverters PASSED [ 65%]
tests/application/network_wizard/test_inverter_setpoints.py::test_converter_setpoints_stored_on_case_only PASSED [ 65%]
tests/application/network_wizard/test_inverter_setpoints.py::test_converter_setpoints_validation PASSED [ 65%]
tests/application/network_wizard/test_inverter_setpoints.py::test_power_flow_input_uses_case_setpoints_for_converters PASSED [ 65%]
tests/application/network_wizard/test_network_wizard_service.py::test_network_wizard_happy_path PASSED [ 65%]
tests/application/network_wizard/test_network_wizard_service.py::test_network_wizard_validation_errors PASSED [ 65%]
tests/application/network_wizard/test_network_wizard_service.py::test_network_wizard_import_csv PASSED [ 65%]
tests/application/network_wizard/test_network_wizard_service.py::test_network_wizard_export_determinism PASSED [ 65%]
tests/application/network_wizard/test_network_wizard_service.py::test_build_short_circuit_input_fault_spec PASSED [ 65%]
tests/application/network_wizard/test_network_wizard_service.py::test_case_switching_state_overrides_branch PASSED [ 65%]
tests/application/project_archive/test_project_archive.py::TestCanonicalization::test_canonicalize_dict_sorts_keys PASSED [ 66%]
tests/application/project_archive/test_project_archive.py::TestCanonicalization::test_canonicalize_nested_dict PASSED [ 66%]
tests/application/project_archive/test_project_archive.py::TestCanonicalization::test_canonicalize_list PASSED [ 66%]
tests/application/project_archive/test_project_archive.py::TestCanonicalization::test_compute_hash_deterministic PASSED [ 66%]
tests/application/project_archive/test_project_archive.py::TestCanonicalization::test_compute_hash_different_for_different_data PASSED [ 66%]
tests/application/project_archive/test_project_archive.py::TestCanonicalization::test_compute_hash_order_independent PASSED [ 66%]
tests/application/project_archive/test_project_archive.py::TestRoundtrip::test_archive_to_dict_and_back PASSED [ 66%]
tests/application/project_archive/test_project_archive.py::TestRoundtrip::test_roundtrip_preserves_network_model PASSED [ 66%]
tests/application/project_archive/test_project_archive.py::TestRoundtrip::test_roundtrip_preserves_cases PASSED [ 66%]
tests/application/project_archive/test_project_archive.py::TestRoundtrip::test_roundtrip_preserves_fingerprints PASSED [ 66%]
tests/application/project_archive/test_project_archive.py::TestDeterminism::test_double_export_identical_dict PASSED [ 66%]
tests/application/project_archive/test_project_archive.py::TestDeterminism::test_double_export_identical_hash PASSED [ 66%]
tests/application/project_archive/test_project_archive.py::TestDeterminism::test_fingerprints_deterministic PASSED [ 66%]
tests/application/project_archive/test_project_archive.py::TestIntegrity::test_verify_integrity_valid_archive PASSED [ 66%]
tests/application/project_archive/test_project_archive.py::TestIntegrity::test_verify_integrity_detects_tampering PASSED [ 66%]
tests/application/project_archive/test_project_archive.py::TestVersionCompatibility::test_reject_incompatible_future_version PASSED [ 67%]
tests/application/project_archive/test_project_archive.py::TestVersionCompatibility::test_accept_compatible_older_version PASSED [ 67%]
tests/application/project_archive/test_project_archive.py::TestVersionCompatibility::test_reject_invalid_format_id PASSED [ 67%]
tests/application/project_archive/test_project_archive.py::TestStructureValidation::test_reject_missing_required_section PASSED [ 67%]
tests/application/project_archive/test_project_archive.py::TestStructureValidation::test_accept_missing_optional_sections PASSED [ 67%]
tests/application/project_archive/test_project_archive.py::TestEdgeCases::test_empty_archive PASSED [ 67%]
tests/application/project_archive/test_project_archive.py::TestEdgeCases::test_unicode_in_names PASSED [ 67%]
tests/application/project_archive/test_project_archive.py::TestEdgeCases::test_large_network PASSED [ 67%]
tests/application/project_archive/test_project_archive_service.py::TestExport::test_export_creates_valid_zip PASSED [ 67%]
tests/application/project_archive/test_project_archive_service.py::TestExport::test_export_contains_project_data PASSED [ 67%]
tests/application/project_archive/test_project_archive_service.py::TestExport::test_export_contains_network_model PASSED [ 67%]
tests/application/project_archive/test_project_archive_service.py::TestExport::test_export_contains_cases PASSED [ 67%]
tests/application/project_archive/test_project_archive_service.py::TestExport::test_export_includes_fingerprints PASSED [ 67%]
tests/application/project_archive/test_project_archive_service.py::TestExportDeterminism::test_double_export_identical PASSED [ 67%]
tests/application/project_archive/test_project_archive_service.py::TestExportDeterminism::test_double_export_identical_hash PASSED [ 68%]
tests/application/project_archive/test_project_archive_service.py::TestImport::test_import_creates_project PASSED [ 68%]
tests/application/project_archive/test_project_archive_service.py::TestImport::test_import_preserves_network PASSED [ 68%]
tests/application/project_archive/test_project_archive_service.py::TestImport::test_import_creates_new_ids PASSED [ 68%]
tests/application/project_archive/test_project_archive_service.py::TestImport::test_import_with_new_name PASSED [ 68%]
tests/application/project_archive/test_project_archive_service.py::TestRoundtrip::test_roundtrip_preserves_project_name PASSED [ 68%]
tests/application/project_archive/test_project_archive_service.py::TestRoundtrip::test_roundtrip_preserves_network_structure PASSED [ 68%]
tests/application/project_archive/test_project_archive_service.py::TestPreview::test_preview_valid_archive PASSED [ 68%]
tests/application/project_archive/test_project_archive_service.py::TestPreview::test_preview_shows_summary PASSED [ 68%]
tests/application/project_archive/test_project_archive_service.py::TestPreview::test_preview_invalid_zip PASSED [ 68%]
tests/application/project_archive/test_project_archive_service.py::TestErrorHandling::test_export_nonexistent_project PASSED [ 68%]
tests/application/project_archive/test_project_archive_service.py::TestErrorHandling::test_import_invalid_zip PASSED [ 68%]
tests/application/project_archive/test_project_archive_service.py::TestErrorHandling::test_import_missing_project_json PASSED [ 68%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestVerdictZgodne::test_verdict_ok_from_input PASSED [ 68%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestVerdictZgodne::test_verdict_ok_from_fixture PASSED [ 68%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestVerdictZgodne::test_verdict_ok_via_public_api PASSED [ 69%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestVerdictZgodne::test_summary_pl_for_zgodne PASSED [ 69%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestVerdictZgodne::test_checks_all_pass_for_zgodne PASSED [ 69%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestVerdictNiezgodne::test_verdict_conflict_from_input PASSED [ 69%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestVerdictNiezgodne::test_window_invalid_for_niezgodne PASSED [ 69%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestVerdictNiezgodne::test_summary_pl_for_niezgodne PASSED [ 69%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestVerdictNiezgodne::test_window_check_fail_for_niezgodne PASSED [ 69%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestVerdictGraniczne::test_verdict_borderline_from_input PASSED [ 69%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestVerdictGraniczne::test_window_valid_but_narrow_for_graniczne PASSED [ 69%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestVerdictGraniczne::test_summary_pl_for_graniczne PASSED [ 69%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestVerdictGraniczne::test_window_check_warn_for_graniczne PASSED [ 69%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestDeterminism::test_identical_results_twice PASSED [ 69%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestDeterminism::test_stable_json_identical PASSED [ 69%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestDeterminism::test_trace_deterministic PASSED [ 69%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestDeterminism::test_checks_deterministic PASSED [ 69%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestDeterminism::test_json_serializable PASSED [ 70%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestWhiteBoxTrace::test_trace_steps_present PASSED [ 70%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestWhiteBoxTrace::test_trace_has_required_steps PASSED [ 70%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestWhiteBoxTrace::test_trace_has_required_keys PASSED [ 70%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestWhiteBoxTrace::test_trace_has_formulas PASSED [ 70%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestArtifacts::test_artifacts_present PASSED [ 70%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestArtifacts::test_artifacts_has_key_values PASSED [ 70%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestArtifacts::test_artifacts_values_correct PASSED [ 70%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestPolishLabels::test_verdict_description_pl PASSED [ 70%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestPolishLabels::test_check_names_pl PASSED [ 70%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestPolishLabels::test_check_status_pl PASSED [ 70%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestPolishLabels::test_no_codenames PASSED [ 70%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestFixtureLoading::test_load_fixture_case_a PASSED [ 70%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestFixtureLoading::test_fixture_to_input_conversion PASSED [ 70%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestEdgeCases::test_spz_disabled_info_check PASSED [ 71%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestEdgeCases::test_validates_without_fixture PASSED [ 71%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestEdgeCases::test_validates_with_precomputed_result PASSED [ 71%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestFixtureVerdicts::test_case_A_verdict_zgodne PASSED [ 71%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestFixtureVerdicts::test_case_B_verdict_niezgodne PASSED [ 71%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestFixtureVerdicts::test_case_C_verdict_graniczne PASSED [ 71%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestDeterminismWithFixtures::test_determinism_case_A PASSED [ 71%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestDeterminismWithFixtures::test_determinism_case_B PASSED [ 71%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestDeterminismWithFixtures::test_determinism_case_C PASSED [ 71%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestTraceOrdering::test_trace_ordering_case_A PASSED [ 71%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestTraceOrdering::test_checks_ordering_deterministic PASSED [ 71%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestTraceOrdering::test_artifacts_keys_sorted PASSED [ 71%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestFixtureSubdirectory::test_load_case_A_from_subdirectory PASSED [ 71%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestFixtureSubdirectory::test_load_case_B_from_subdirectory PASSED [ 71%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestFixtureSubdirectory::test_load_case_C_from_subdirectory PASSED [ 71%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestFixtureSubdirectory::test_backwards_compatibility_with_root_fixture PASSED [ 72%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestFixtureSubdirectory::test_fixture_not_found_error PASSED [ 72%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestCaseSpecificArtifacts::test_case_A_artifacts_correctness PASSED [ 72%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestCaseSpecificArtifacts::test_case_B_artifacts_conflict PASSED [ 72%]
tests/application/reference_patterns/test_pattern_a_line_i_doubleprime.py::TestCaseSpecificArtifacts::test_case_C_narrow_window PASSED [ 72%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestVerdictZgodne::test_verdict_ok_from_input PASSED [ 72%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestVerdictZgodne::test_verdict_ok_from_fixture PASSED [ 72%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestVerdictZgodne::test_verdict_ok_via_public_api PASSED [ 72%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestVerdictZgodne::test_summary_pl_for_zgodne PASSED [ 72%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestVerdictZgodne::test_zmiana_pradu_info_for_zgodne PASSED [ 72%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestVerdictGraniczne::test_verdict_borderline_from_input PASSED [ 72%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestVerdictGraniczne::test_verdict_borderline_from_fixture PASSED [ 72%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestVerdictGraniczne::test_summary_pl_for_graniczne PASSED [ 72%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestVerdictGraniczne::test_zmiana_pradu_in_borderline_range PASSED [ 72%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestVerdictNiezgodne::test_verdict_noncompliant_from_input PASSED [ 73%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestVerdictNiezgodne::test_verdict_noncompliant_from_fixture PASSED [ 73%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestVerdictNiezgodne::test_summary_pl_for_niezgodne PASSED [ 73%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestVerdictNiezgodne::test_zmiana_pradu_exceeds_threshold PASSED [ 73%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestVerdictNiezgodne::test_blocking_risk_detected PASSED [ 73%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestDeterminism::test_identical_results_twice PASSED [ 73%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestDeterminism::test_stable_json_identical PASSED [ 73%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestDeterminism::test_trace_deterministic PASSED [ 73%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestDeterminism::test_checks_deterministic PASSED [ 73%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestDeterminism::test_json_serializable PASSED [ 73%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestWhiteBoxTrace::test_trace_steps_present PASSED [ 73%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestWhiteBoxTrace::test_trace_has_required_steps PASSED [ 73%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestWhiteBoxTrace::test_trace_has_required_keys PASSED [ 73%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestWhiteBoxTrace::test_trace_has_formulas PASSED [ 73%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestArtifacts::test_artifacts_present PASSED [ 73%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestArtifacts::test_artifacts_has_key_values PASSED [ 74%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestArtifacts::test_artifacts_values_correct_zgodne PASSED [ 74%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestPolishLabels::test_verdict_description_pl PASSED [ 74%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestPolishLabels::test_check_names_pl PASSED [ 74%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestPolishLabels::test_check_status_pl PASSED [ 74%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestPolishLabels::test_no_codenames PASSED [ 74%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestFixtureLoading::test_load_fixture_zgodny PASSED [ 74%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestFixtureLoading::test_load_fixture_graniczny PASSED [ 74%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestFixtureLoading::test_load_fixture_niezgodny PASSED [ 74%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestFixtureLoading::test_fixture_to_input_conversion PASSED [ 74%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestFixtureLoading::test_fixture_not_found_error PASSED [ 74%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestFixtureVerdicts::test_przypadek_zgodny_verdict PASSED [ 74%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestFixtureVerdicts::test_przypadek_graniczny_verdict PASSED [ 74%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestFixtureVerdicts::test_przypadek_niezgodny_verdict PASSED [ 74%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestDeterminismWithFixtures::test_determinism_zgodny PASSED [ 74%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestDeterminismWithFixtures::test_determinism_graniczny PASSED [ 75%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestDeterminismWithFixtures::test_determinism_niezgodny PASSED [ 75%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestTraceOrdering::test_trace_ordering_zgodny PASSED [ 75%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestTraceOrdering::test_checks_ordering_deterministic PASSED [ 75%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestTraceOrdering::test_artifacts_keys_sorted PASSED [ 75%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestEdgeCases::test_no_blocking_threshold PASSED [ 75%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestEdgeCases::test_multiple_generation_sources PASSED [ 75%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestCaseSpecificArtifacts::test_przypadek_zgodny_artifacts PASSED [ 75%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestCaseSpecificArtifacts::test_przypadek_graniczny_artifacts PASSED [ 75%]
tests/application/reference_patterns/test_wzorzec_c_generacja_lokalna.py::TestCaseSpecificArtifacts::test_przypadek_niezgodny_artifacts PASSED [ 75%]
tests/application/sld/test_layout.py::test_layout_is_deterministic PASSED [ 75%]
tests/application/sld/test_layout.py::test_bijection_no_helper_nodes PASSED [ 75%]
tests/application/sld/test_layout.py::test_in_service_false_visible_in_sld PASSED [ 75%]
tests/application/sld/test_layout.py::test_switch_open_closed_state PASSED [ 75%]
tests/application/sld/test_layout.py::test_switch_types_breaker_disconnector_fuse PASSED [ 76%]
tests/application/sld/test_layout.py::test_deterministic_with_switches PASSED [ 76%]
tests/application/sld/test_sld_integration.py::test_sld_binding_nodes_and_branches PASSED [ 76%]
tests/application/sld/test_sld_integration.py::test_sld_export_import_roundtrip PASSED [ 76%]
tests/application/sld/test_sld_parity.py::TestSldOperatingModes::test_mode_enum_values PASSED [ 76%]
tests/application/sld/test_sld_parity.py::TestSldOperatingModes::test_diagram_dto_default_mode PASSED [ 76%]
tests/application/sld/test_sld_parity.py::TestSldOperatingModes::test_diagram_dto_mode_in_payload PASSED [ 76%]
tests/application/sld/test_sld_parity.py::TestSldResultStatus::test_result_status_enum_values PASSED [ 76%]
tests/application/sld/test_sld_parity.py::TestSldResultStatus::test_diagram_dto_default_result_status PASSED [ 76%]
tests/application/sld/test_sld_parity.py::TestSldResultStatus::test_diagram_dto_result_status_in_payload PASSED [ 76%]
tests/application/sld/test_sld_parity.py::TestSldOverlayBuilder::test_overlay_includes_result_status PASSED [ 76%]
tests/application/sld/test_sld_parity.py::TestSldOverlayBuilder::test_overlay_empty_when_no_results PASSED [ 76%]
tests/application/sld/test_sld_parity.py::TestSldOverlayBuilder::test_overlay_includes_switches_array PASSED [ 76%]
tests/application/sld/test_sld_parity.py::TestSldSymbolsInService::test_node_symbol_in_service_default_true PASSED [ 76%]
tests/application/sld/test_sld_parity.py::TestSldSymbolsInService::test_node_symbol_in_service_false_serialized PASSED [ 76%]
tests/application/sld/test_sld_parity.py::TestSldSymbolsInService::test_branch_symbol_in_service_default_true PASSED [ 77%]
tests/application/sld/test_sld_parity.py::TestSldSymbolsInService::test_branch_symbol_in_service_false_serialized PASSED [ 77%]
tests/application/sld/test_sld_parity.py::TestSldSwitchSymbol::test_switch_symbol_has_type_and_state PASSED [ 77%]
tests/application/sld/test_sld_parity.py::TestSldSwitchSymbol::test_switch_symbol_open_state PASSED [ 77%]
tests/application/sld/test_sld_parity.py::TestSldSwitchSymbol::test_switch_types_per_system_spec PASSED [ 77%]
tests/application/sld/test_sld_parity.py::TestSldDiagramBijection::test_diagram_has_switches_array PASSED [ 77%]
tests/application/sld/test_sld_parity.py::TestSldDiagramBijection::test_diagram_payload_includes_switches PASSED [ 77%]
tests/application/sld/test_sld_parity.py::TestNoPccInSldSymbols::test_node_symbol_no_is_pcc_field PASSED [ 77%]
tests/application/sld/test_sld_parity.py::TestNoPccInSldSymbols::test_diagram_no_pcc_markers PASSED [ 77%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseModel::test_new_study_case_has_none_status PASSED [ 77%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseModel::test_new_study_case_not_active_by_default PASSED [ 77%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseModel::test_new_study_case_with_active_flag PASSED [ 77%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseModel::test_study_case_default_config PASSED [ 77%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseModel::test_study_case_custom_config PASSED [ 77%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseStatusTransitions::test_mark_as_outdated_from_fresh PASSED [ 77%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseStatusTransitions::test_mark_as_outdated_from_none_stays_none PASSED [ 78%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseStatusTransitions::test_config_change_marks_fresh_as_outdated PASSED [ 78%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseStatusTransitions::test_name_change_does_not_affect_status PASSED [ 78%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseClone::test_clone_copies_config PASSED [ 78%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseClone::test_clone_does_not_copy_results PASSED [ 78%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseClone::test_clone_is_not_active PASSED [ 78%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseClone::test_clone_has_new_id PASSED [ 78%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseClone::test_clone_with_custom_name PASSED [ 78%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseClone::test_clone_default_name PASSED [ 78%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseImmutability::test_case_does_not_mutate_snapshot_in_place PASSED [ 78%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseImmutability::test_case_actions_produce_new_snapshot_id PASSED [ 78%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseImmutability::test_case_read_only_guard_raises_on_mutation PASSED [ 78%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseCompare::test_compare_identical_cases PASSED [ 78%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseCompare::test_compare_different_c_factor PASSED [ 78%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseCompare::test_compare_shows_status_difference PASSED [ 79%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseCompare::test_compare_is_readonly PASSED [ 79%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseActivation::test_mark_as_active PASSED [ 79%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseActivation::test_mark_as_inactive PASSED [ 79%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseConfig::test_config_to_dict PASSED [ 79%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseConfig::test_config_from_dict PASSED [ 79%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseConfig::test_config_from_dict_with_defaults PASSED [ 79%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseSerialization::test_to_dict PASSED [ 79%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseSerialization::test_from_dict PASSED [ 79%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseInvariants::test_case_is_configuration_only PASSED [ 79%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseInvariants::test_case_result_status_is_enum PASSED [ 79%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseInvariants::test_case_is_immutable PASSED [ 79%]
tests/application/study_case/test_study_case_lifecycle.py::TestStudyCaseInvariants::test_revision_increments_on_update PASSED [ 79%]
tests/application/wizard_actions/test_wizard_action_service.py::test_build_action_is_deterministic_for_same_payload PASSED [ 79%]
tests/application/wizard_actions/test_wizard_action_service.py::test_submit_batch_persists_snapshot_and_updates_case PASSED [ 79%]
tests/application/wizard_runtime/test_wizard_runtime_service.py::test_start_session_uses_latest_snapshot PASSED [ 80%]
tests/application/wizard_runtime/test_wizard_runtime_service.py::test_submit_action_and_commit_persists_snapshot PASSED [ 80%]
tests/domain/test_power_flow_comparison.py::TestPowerFlowBusDiffRow::test_to_dict_and_from_dict_roundtrip PASSED [ 80%]
tests/domain/test_power_flow_comparison.py::TestPowerFlowBranchDiffRow::test_to_dict_and_from_dict_roundtrip PASSED [ 80%]
tests/domain/test_power_flow_comparison.py::TestPowerFlowRankingIssue::test_to_dict_and_from_dict_roundtrip PASSED [ 80%]
tests/domain/test_power_flow_comparison.py::TestPowerFlowComparisonResult::test_to_dict_and_from_dict_roundtrip PASSED [ 80%]
tests/domain/test_power_flow_comparison.py::TestPowerFlowComparisonResult::test_determinism_same_inputs_same_json PASSED [ 80%]
tests/domain/test_power_flow_comparison.py::TestPowerFlowComparisonTrace::test_to_dict_and_from_dict_roundtrip PASSED [ 80%]
tests/domain/test_power_flow_comparison.py::TestComputePfComparisonInputHash::test_same_inputs_same_hash PASSED [ 80%]
tests/domain/test_power_flow_comparison.py::TestComputePfComparisonInputHash::test_different_inputs_different_hash PASSED [ 80%]
tests/domain/test_power_flow_comparison.py::TestComputePfComparisonInputHash::test_order_matters PASSED [ 80%]
tests/domain/test_power_flow_comparison.py::TestIssueSeverityMap::test_all_issue_codes_have_severity PASSED [ 80%]
tests/domain/test_power_flow_comparison.py::TestIssueSeverityMap::test_all_issue_codes_have_description_pl PASSED [ 80%]
tests/domain/test_power_flow_comparison.py::TestIssueSeverityMap::test_non_convergence_is_critical PASSED [ 80%]
tests/domain/test_power_flow_comparison.py::TestIssueSeverityMap::test_voltage_delta_high_is_major PASSED [ 80%]
tests/domain/test_power_flow_comparison.py::TestThresholds::test_voltage_threshold_is_documented PASSED [ 81%]
tests/domain/test_power_flow_comparison.py::TestThresholds::test_angle_threshold_is_documented PASSED [ 81%]
tests/domain/test_power_flow_comparison.py::TestThresholds::test_get_ranking_thresholds_includes_all PASSED [ 81%]
tests/domain/test_power_flow_comparison.py::TestNewPowerFlowComparison::test_creates_with_created_status PASSED [ 81%]
tests/domain/test_power_flow_comparison.py::TestNewPowerFlowComparison::test_computes_input_hash PASSED [ 81%]
tests/domain/test_power_flow_comparison.py::TestDeterminismContract::test_bus_diffs_sorted_by_bus_id PASSED [ 81%]
tests/domain/test_power_flow_comparison.py::TestDeterminismContract::test_ranking_sorted_by_severity_desc_then_code_then_element PASSED [ 81%]
tests/domain/test_protection_config.py::test_protection_config_to_dict PASSED [ 81%]
tests/domain/test_protection_config.py::test_protection_config_from_dict PASSED [ 81%]
tests/domain/test_protection_config.py::test_protection_config_default PASSED [ 81%]
tests/domain/test_protection_config.py::test_study_case_with_protection_config PASSED [ 81%]
tests/domain/test_protection_config.py::test_study_case_clone_copies_protection_config PASSED [ 81%]
tests/domain/test_protection_config.py::test_study_case_serialization_with_protection_config PASSED [ 81%]
tests/e2e/test_pf_determinism_workflow.py::TestPFDeterminismAllMethods::test_two_bus_same_result_twice[newton-raphson-_solve_newton_raphson] PASSED [ 81%]
tests/e2e/test_pf_determinism_workflow.py::TestPFDeterminismAllMethods::test_two_bus_same_result_twice[gauss-seidel-_solve_gauss_seidel] PASSED [ 82%]
tests/e2e/test_pf_determinism_workflow.py::TestPFDeterminismAllMethods::test_two_bus_same_result_twice[fast-decoupled-_solve_fast_decoupled] PASSED [ 82%]
tests/e2e/test_pf_determinism_workflow.py::TestPFDeterminismAllMethods::test_ring_network_same_result_twice[newton-raphson-_solve_newton_raphson] PASSED [ 82%]
tests/e2e/test_pf_determinism_workflow.py::TestPFDeterminismAllMethods::test_ring_network_same_result_twice[gauss-seidel-_solve_gauss_seidel] PASSED [ 82%]
tests/e2e/test_pf_determinism_workflow.py::TestPFDeterminismAllMethods::test_ring_network_same_result_twice[fast-decoupled-_solve_fast_decoupled] PASSED [ 82%]
tests/e2e/test_pf_determinism_workflow.py::TestPFDeterminismAllMethods::test_pv_network_same_result_twice[newton-raphson-_solve_newton_raphson] PASSED [ 82%]
tests/e2e/test_pf_determinism_workflow.py::TestPFDeterminismAllMethods::test_pv_network_same_result_twice[gauss-seidel-_solve_gauss_seidel] PASSED [ 82%]
tests/e2e/test_pf_determinism_workflow.py::TestPFDeterminismAllMethods::test_pv_network_same_result_twice[fast-decoupled-_solve_fast_decoupled] PASSED [ 82%]
tests/e2e/test_pf_determinism_workflow.py::TestPFTraceDeterminism::test_trace_identical_twice[newton-raphson-_solve_newton_raphson] PASSED [ 82%]
tests/e2e/test_pf_determinism_workflow.py::TestPFTraceDeterminism::test_trace_identical_twice[gauss-seidel-_solve_gauss_seidel] PASSED [ 82%]
tests/e2e/test_pf_determinism_workflow.py::TestPFTraceDeterminism::test_trace_identical_twice[fast-decoupled-_solve_fast_decoupled] PASSED [ 82%]
tests/e2e/test_pf_determinism_workflow.py::TestPFTraceDeterminism::test_init_state_identical_twice[newton-raphson-_solve_newton_raphson] PASSED [ 82%]
tests/e2e/test_pf_determinism_workflow.py::TestPFTraceDeterminism::test_init_state_identical_twice[gauss-seidel-_solve_gauss_seidel] PASSED [ 82%]
tests/e2e/test_pf_determinism_workflow.py::TestPFTraceDeterminism::test_init_state_identical_twice[fast-decoupled-_solve_fast_decoupled] PASSED [ 82%]
tests/e2e/test_pf_determinism_workflow.py::TestPFMultipleRunsDeterminism::test_ten_runs_identical[newton-raphson-_solve_newton_raphson] PASSED [ 82%]
tests/e2e/test_pf_determinism_workflow.py::TestPFMultipleRunsDeterminism::test_ten_runs_identical[gauss-seidel-_solve_gauss_seidel] PASSED [ 83%]
tests/e2e/test_pf_determinism_workflow.py::TestPFMultipleRunsDeterminism::test_ten_runs_identical[fast-decoupled-_solve_fast_decoupled] PASSED [ 83%]
tests/e2e/test_pf_determinism_workflow.py::TestPFConvergenceAllMethods::test_all_methods_converge_two_bus[newton-raphson-_solve_newton_raphson] PASSED [ 83%]
tests/e2e/test_pf_determinism_workflow.py::TestPFConvergenceAllMethods::test_all_methods_converge_two_bus[gauss-seidel-_solve_gauss_seidel] PASSED [ 83%]
tests/e2e/test_pf_determinism_workflow.py::TestPFConvergenceAllMethods::test_all_methods_converge_two_bus[fast-decoupled-_solve_fast_decoupled] PASSED [ 83%]
tests/e2e/test_pf_determinism_workflow.py::TestPFConvergenceAllMethods::test_all_methods_converge_ring[newton-raphson-_solve_newton_raphson] PASSED [ 83%]
tests/e2e/test_pf_determinism_workflow.py::TestPFConvergenceAllMethods::test_all_methods_converge_ring[gauss-seidel-_solve_gauss_seidel] PASSED [ 83%]
tests/e2e/test_pf_determinism_workflow.py::TestPFConvergenceAllMethods::test_all_methods_converge_ring[fast-decoupled-_solve_fast_decoupled] PASSED [ 83%]
tests/e2e/test_pf_determinism_workflow.py::TestPFConvergenceAllMethods::test_all_methods_converge_pv[newton-raphson-_solve_newton_raphson] PASSED [ 83%]
tests/e2e/test_pf_determinism_workflow.py::TestPFConvergenceAllMethods::test_all_methods_converge_pv[gauss-seidel-_solve_gauss_seidel] PASSED [ 83%]
tests/e2e/test_pf_determinism_workflow.py::TestPFConvergenceAllMethods::test_all_methods_converge_pv[fast-decoupled-_solve_fast_decoupled] PASSED [ 83%]
tests/e2e/test_pf_determinism_workflow.py::TestPFSolverMethodField::test_newton_raphson_method_field PASSED [ 83%]
tests/e2e/test_pf_determinism_workflow.py::TestPFSolverMethodField::test_gauss_seidel_method_field PASSED [ 83%]
tests/e2e/test_pf_determinism_workflow.py::TestPFSolverMethodField::test_fast_decoupled_method_field PASSED [ 83%]
tests/e2e/test_pf_determinism_workflow.py::TestPFResultParity::test_all_methods_give_similar_voltages PASSED [ 84%]
tests/e2e/test_pf_determinism_workflow.py::TestPFResultParity::test_all_methods_give_similar_losses PASSED [ 84%]
tests/e2e/test_pf_exports_deterministic.py::TestJSONExportDeterminism::test_json_export_identical_twice PASSED [ 84%]
tests/e2e/test_pf_exports_deterministic.py::TestJSONExportDeterminism::test_json_export_all_solvers_deterministic PASSED [ 84%]
tests/e2e/test_pf_exports_deterministic.py::TestPDFExportDeterminism::test_pdf_export_identical_twice XPASS [ 84%]
tests/e2e/test_pf_exports_deterministic.py::TestPDFExportDeterminism::test_pdf_export_without_trace_deterministic XPASS [ 84%]
tests/e2e/test_pf_exports_deterministic.py::TestPDFExportDeterminism::test_pdf_export_all_solvers_deterministic XPASS [ 84%]
tests/e2e/test_pf_exports_deterministic.py::TestDOCXExportDeterminism::test_docx_export_identical_twice PASSED [ 84%]
tests/e2e/test_pf_exports_deterministic.py::TestDOCXExportDeterminism::test_docx_export_without_trace_deterministic PASSED [ 84%]
tests/e2e/test_pf_exports_deterministic.py::TestDOCXExportDeterminism::test_docx_export_all_solvers_deterministic PASSED [ 84%]
tests/e2e/test_pf_exports_deterministic.py::TestFullWorkflowDeterminism::test_full_workflow_json_all_solvers PASSED [ 84%]
tests/e2e/test_pf_exports_deterministic.py::TestFullWorkflowDeterminism::test_full_workflow_pdf_newton_raphson XPASS [ 84%]
tests/e2e/test_pf_exports_deterministic.py::TestFullWorkflowDeterminism::test_full_workflow_docx_newton_raphson PASSED [ 84%]
tests/e2e/test_protection_exports_deterministic.py::TestProtectionDOCXExportDeterminism::test_docx_export_identical_twice PASSED [ 84%]
tests/e2e/test_protection_exports_deterministic.py::TestProtectionDOCXExportDeterminism::test_docx_export_without_metadata_deterministic PASSED [ 84%]
tests/e2e/test_protection_exports_deterministic.py::TestProtectionDOCXExportDeterminism::test_docx_export_empty_checks_deterministic PASSED [ 85%]
tests/e2e/test_protection_exports_deterministic.py::TestProtectionPDFExportDeterminism::test_pdf_export_identical_twice PASSED [ 85%]
tests/e2e/test_protection_exports_deterministic.py::TestProtectionPDFExportDeterminism::test_pdf_export_without_metadata_deterministic PASSED [ 85%]
tests/e2e/test_protection_exports_deterministic.py::TestProtectionPDFExportDeterminism::test_pdf_export_empty_checks_deterministic PASSED [ 85%]
tests/e2e/test_protection_exports_deterministic.py::TestProtectionDOCXContentValidation::test_content_sections_present PASSED [ 85%]
tests/e2e/test_protection_exports_deterministic.py::TestProtectionDOCXContentValidation::test_no_codenames_in_docx PASSED [ 85%]
tests/e2e/test_protection_exports_deterministic.py::TestProtectionPDFContentValidation::test_pdf_file_valid_and_nonzero PASSED [ 85%]
tests/e2e/test_protection_exports_deterministic.py::TestProtectionExportFullWorkflow::test_both_exports_from_same_result PASSED [ 85%]
tests/e2e/test_protection_exports_deterministic.py::TestProtectionExportFullWorkflow::test_sorted_order_in_checks PASSED [ 85%]
tests/e2e/test_reference_pattern_reports.py::TestDocxWzorzecA::test_docx_creates_file PASSED [ 85%]
tests/e2e/test_reference_pattern_reports.py::TestDocxWzorzecA::test_docx_powtarzalnosc_wzorzec_a PASSED [ 85%]
tests/e2e/test_reference_pattern_reports.py::TestDocxWzorzecA::test_docx_contains_required_sections_wzorzec_a PASSED [ 85%]
tests/e2e/test_reference_pattern_reports.py::TestDocxWzorzecA::test_docx_without_trace PASSED [ 85%]
tests/e2e/test_reference_pattern_reports.py::TestDocxWzorzecC::test_docx_creates_file PASSED [ 85%]
tests/e2e/test_reference_pattern_reports.py::TestDocxWzorzecC::test_docx_powtarzalnosc_wzorzec_c PASSED [ 85%]
tests/e2e/test_reference_pattern_reports.py::TestDocxWzorzecC::test_docx_contains_required_sections_wzorzec_c PASSED [ 86%]
tests/e2e/test_reference_pattern_reports.py::TestPdfWzorzecA::test_pdf_creates_file PASSED [ 86%]
tests/e2e/test_reference_pattern_reports.py::TestPdfWzorzecA::test_pdf_has_valid_header PASSED [ 86%]
tests/e2e/test_reference_pattern_reports.py::TestPdfWzorzecA::test_pdf_powtarzalnosc_wzorzec_a PASSED [ 86%]
tests/e2e/test_reference_pattern_reports.py::TestPdfWzorzecC::test_pdf_creates_file PASSED [ 86%]
tests/e2e/test_reference_pattern_reports.py::TestPdfWzorzecC::test_pdf_has_valid_header PASSED [ 86%]
tests/e2e/test_reference_pattern_reports.py::TestPdfWzorzecC::test_pdf_powtarzalnosc_wzorzec_c PASSED [ 86%]
tests/e2e/test_reference_pattern_reports.py::TestErrorHandling::test_docx_import_error_when_missing SKIPPED [ 86%]
tests/e2e/test_reference_pattern_reports.py::TestErrorHandling::test_pdf_import_error_when_missing SKIPPED [ 86%]
tests/e2e/test_reference_pattern_reports.py::TestDeterminismMultipleRuns::test_docx_determinism_5_runs_wzorzec_a PASSED [ 86%]
tests/e2e/test_reference_pattern_reports.py::TestDeterminismMultipleRuns::test_docx_determinism_5_runs_wzorzec_c PASSED [ 86%]
tests/infrastructure/persistence/test_design_synth_repositories.py::test_design_spec_repository_roundtrip_and_list PASSED [ 86%]
tests/infrastructure/persistence/test_design_synth_repositories.py::test_design_proposal_repository_roundtrip_and_list PASSED [ 86%]
tests/infrastructure/persistence/test_design_synth_repositories.py::test_design_evidence_repository_roundtrip_and_list PASSED [ 86%]
tests/infrastructure/persistence/test_design_synth_repositories.py::test_design_spec_canonical_json_determinism PASSED [ 87%]
tests/infrastructure/persistence/test_repositories.py::test_project_repository_roundtrip PASSED [ 87%]
tests/infrastructure/persistence/test_repositories.py::test_network_repository_nodes_and_branches PASSED [ 87%]
tests/infrastructure/persistence/test_repositories.py::test_case_repository_operating_and_study_cases PASSED [ 87%]
tests/infrastructure/persistence/test_repositories.py::test_study_runs_and_results PASSED [ 87%]
tests/infrastructure/persistence/test_repositories.py::test_sld_repository PASSED [ 87%]
tests/infrastructure/persistence/test_snapshot_repository.py::test_snapshot_repository_roundtrip_and_immutability PASSED [ 87%]
tests/infrastructure/persistence/test_snapshot_repository.py::test_snapshot_lineage_lists_parent_chain PASSED [ 87%]
tests/infrastructure/persistence/test_snapshot_repository.py::test_snapshot_json_is_deterministic_and_json_safe PASSED [ 87%]
tests/network_model/catalog/test_governance.py::test_sort_types_deterministically PASSED [ 87%]
tests/network_model/catalog/test_governance.py::test_export_deterministic_ordering PASSED [ 87%]
tests/network_model/catalog/test_governance.py::test_fingerprint_is_deterministic PASSED [ 87%]
tests/network_model/catalog/test_governance.py::test_fingerprint_changes_with_content PASSED [ 87%]
tests/network_model/catalog/test_governance.py::test_canonical_json_is_deterministic PASSED [ 87%]
tests/network_model/catalog/test_governance.py::test_manifest_to_dict_preserves_order PASSED [ 87%]
tests/network_model/catalog/test_governance.py::test_export_to_dict_has_all_fields PASSED [ 88%]
tests/network_model/catalog/test_governance.py::test_import_mode_enum PASSED [ 88%]
tests/network_model/catalog/test_governance.py::test_export_import_round_trip PASSED [ 88%]
tests/network_model/catalog/test_governance.py::test_import_merge_skips_existing PASSED [ 88%]
tests/network_model/catalog/test_governance.py::test_import_replace_blocked_when_types_in_use PASSED [ 88%]
tests/network_model/catalog/test_governance.py::test_export_determinism_with_real_data PASSED [ 88%]
tests/network_model/catalog/test_resolver.py::test_line_precedence_override_wins PASSED [ 88%]
tests/network_model/catalog/test_resolver.py::test_line_precedence_type_ref_wins PASSED [ 88%]
tests/network_model/catalog/test_resolver.py::test_line_precedence_instance_fallback PASSED [ 88%]
tests/network_model/catalog/test_resolver.py::test_line_type_not_found_raises_error PASSED [ 88%]
tests/network_model/catalog/test_resolver.py::test_cable_precedence_override_wins PASSED [ 88%]
tests/network_model/catalog/test_resolver.py::test_cable_precedence_type_ref_wins PASSED [ 88%]
tests/network_model/catalog/test_resolver.py::test_cable_type_not_found_raises_error PASSED [ 88%]
tests/network_model/catalog/test_resolver.py::test_transformer_precedence_type_ref_wins PASSED [ 88%]
tests/network_model/catalog/test_resolver.py::test_transformer_precedence_instance_fallback PASSED [ 88%]
tests/network_model/catalog/test_resolver.py::test_transformer_type_not_found_raises_error PASSED [ 89%]
tests/network_model/catalog/test_resolver.py::test_no_type_ref_preserves_legacy_behavior PASSED [ 89%]
tests/network_model/catalog/test_resolver.py::test_resolve_line_params_is_deterministic PASSED [ 89%]
tests/network_model/catalog/test_resolver.py::test_resolve_transformer_params_is_deterministic PASSED [ 89%]
tests/proof_engine/test_earthing_proof.py::test_earthing_step_order_is_stable PASSED [ 89%]
tests/proof_engine/test_earthing_proof.py::test_earthing_proof_computes_values PASSED [ 89%]
tests/proof_engine/test_earthing_proof.py::test_earthing_determinism_json PASSED [ 89%]
tests/proof_engine/test_earthing_proof.py::test_earthing_missing_data_not_computed PASSED [ 89%]
tests/proof_engine/test_equation_registry_import.py::test_equation_registry_import_smoke PASSED [ 89%]
tests/proof_engine/test_inspector.py::TestInspectorReadOnly::test_inspector_does_not_mutate_document PASSED [ 89%]
tests/proof_engine/test_inspector.py::TestInspectorReadOnly::test_inspector_returns_same_view_on_multiple_calls PASSED [ 89%]
tests/proof_engine/test_inspector.py::TestInspectorReadOnly::test_inspect_factory_function PASSED [ 89%]
tests/proof_engine/test_inspector.py::TestInspectorReadOnly::test_inspector_preserves_document_reference PASSED [ 89%]
tests/proof_engine/test_inspector.py::TestInspectorReadOnly::test_view_types_are_frozen PASSED [ 89%]
tests/proof_engine/test_inspector.py::TestInspectorStepOrder::test_step_order_matches_proof_sc3f PASSED [ 90%]
tests/proof_engine/test_inspector.py::TestInspectorStepOrder::test_step_order_matches_proof_vdrop PASSED [ 90%]
tests/proof_engine/test_inspector.py::TestInspectorStepOrder::test_step_ids_match_proof_document PASSED [ 90%]
tests/proof_engine/test_inspector.py::TestInspectorStepOrder::test_get_step_by_id PASSED [ 90%]
tests/proof_engine/test_inspector.py::TestInspectorStepOrder::test_get_step_by_number PASSED [ 90%]
tests/proof_engine/test_inspector.py::TestInspectorExports::test_export_json_returns_valid_json PASSED [ 90%]
tests/proof_engine/test_inspector.py::TestInspectorExports::test_export_json_is_deterministic PASSED [ 90%]
tests/proof_engine/test_inspector.py::TestInspectorExports::test_export_tex_returns_valid_latex PASSED [ 90%]
tests/proof_engine/test_inspector.py::TestInspectorExports::test_export_tex_uses_block_math_only PASSED [ 90%]
tests/proof_engine/test_inspector.py::TestInspectorExports::test_export_convenience_functions PASSED [ 90%]
tests/proof_engine/test_inspector.py::TestInspectorExports::test_export_pdf_availability_check PASSED [ 90%]
tests/proof_engine/test_inspector.py::TestInspectorExports::test_export_all_returns_all_formats PASSED [ 90%]
tests/proof_engine/test_inspector.py::TestInspectorExports::test_export_result_filename_hint PASSED [ 90%]
tests/proof_engine/test_inspector.py::TestInspectorCounterfactualView::test_non_counterfactual_is_detected PASSED [ 90%]
tests/proof_engine/test_inspector.py::TestInspectorCounterfactualView::test_counterfactual_is_detected PASSED [ 90%]
tests/proof_engine/test_inspector.py::TestInspectorCounterfactualView::test_counterfactual_p15_is_detected PASSED [ 91%]
tests/proof_engine/test_inspector.py::TestInspectorCounterfactualView::test_counterfactual_table_has_rows PASSED [ 91%]
tests/proof_engine/test_inspector.py::TestInspectorCounterfactualView::test_counterfactual_delta_values PASSED [ 91%]
tests/proof_engine/test_inspector.py::TestInspectorCounterfactualView::test_counterfactual_view_to_dict PASSED [ 91%]
tests/proof_engine/test_inspector.py::TestInspectorMappingKeys::test_mapping_keys_are_present PASSED [ 91%]
tests/proof_engine/test_inspector.py::TestInspectorMappingKeys::test_get_mapping_keys_returns_all PASSED [ 91%]
tests/proof_engine/test_inspector.py::TestInspectorMappingKeys::test_mapping_keys_match_source_keys PASSED [ 91%]
tests/proof_engine/test_inspector.py::TestInspectorViewSerialization::test_inspector_view_to_dict PASSED [ 91%]
tests/proof_engine/test_inspector.py::TestInspectorViewSerialization::test_inspector_view_to_dict_is_serializable PASSED [ 91%]
tests/proof_engine/test_inspector.py::TestInspectorViewSerialization::test_step_view_to_dict PASSED [ 91%]
tests/proof_engine/test_inspector.py::TestInspectorViewSerialization::test_summary_view_to_dict PASSED [ 91%]
tests/proof_engine/test_inspector.py::TestInspectorViewSerialization::test_header_view_to_dict PASSED [ 91%]
tests/proof_engine/test_inspector.py::TestInspectorViewSerialization::test_header_view_contains_target_for_p15 PASSED [ 91%]
tests/proof_engine/test_inspector.py::TestInspectorCompleteness::test_completeness_sc3f_passes PASSED [ 91%]
tests/proof_engine/test_inspector.py::TestInspectorCompleteness::test_completeness_vdrop_passes PASSED [ 92%]
tests/proof_engine/test_inspector.py::TestInspectorCompleteness::test_completeness_reports_missing_keys PASSED [ 92%]
tests/proof_engine/test_inspector.py::TestInspectorCompleteness::test_completeness_idyn_proxy_rule PASSED [ 92%]
tests/proof_engine/test_inspector.py::TestInspectorSemanticAliases::test_semantic_aliases_present_in_sc3f_summary_view PASSED [ 92%]
tests/proof_engine/test_inspector.py::TestInspectorSemanticAliases::test_semantic_aliases_not_present_for_non_aliased_keys PASSED [ 92%]
tests/proof_engine/test_inspector.py::TestInspectorSemanticAliases::test_semantic_aliases_in_to_dict_output PASSED [ 92%]
tests/proof_engine/test_inspector.py::TestInspectorSemanticAliases::test_semantic_aliases_not_in_to_dict_when_none PASSED [ 92%]
tests/proof_engine/test_inspector.py::TestInspectorSemanticAliases::test_semantic_aliases_constants_are_complete PASSED [ 92%]
tests/proof_engine/test_load_flow_voltage_proof_p32.py::test_p32_registry_step_order PASSED [ 92%]
tests/proof_engine/test_load_flow_voltage_proof_p32.py::test_p32_math_sanity PASSED [ 92%]
tests/proof_engine/test_load_flow_voltage_proof_p32.py::test_p32_unit_checks_pass PASSED [ 92%]
tests/proof_engine/test_load_flow_voltage_proof_p32.py::test_p32_not_computed_propagation PASSED [ 92%]
tests/proof_engine/test_load_flow_voltage_proof_p32.py::test_p32_json_determinism PASSED [ 92%]
tests/proof_engine/test_losses_energy.py::test_le_registry_ids_exist PASSED [ 92%]
tests/proof_engine/test_losses_energy.py::test_le_step_order_deterministic PASSED [ 92%]
tests/proof_engine/test_losses_energy.py::test_energy_discrete_sum_math PASSED [ 93%]
tests/proof_engine/test_losses_energy.py::test_energy_constant_variant_math PASSED [ 93%]
tests/proof_engine/test_losses_energy.py::test_energy_units_pass PASSED  [ 93%]
tests/proof_engine/test_losses_energy.py::test_energy_json_determinism PASSED [ 93%]
tests/proof_engine/test_p14_power_flow.py::test_pf_registry_ids_exist PASSED [ 93%]
tests/proof_engine/test_p14_power_flow.py::test_pf_step_order_deterministic PASSED [ 93%]
tests/proof_engine/test_p14_power_flow.py::test_pf_equations_dict PASSED [ 93%]
tests/proof_engine/test_p14_power_flow.py::test_p14_proof_generation_converged PASSED [ 93%]
tests/proof_engine/test_p14_power_flow.py::test_p14_convergence_status PASSED [ 93%]
tests/proof_engine/test_p14_power_flow.py::test_p14_non_converged_warning PASSED [ 93%]
tests/proof_engine/test_p14_power_flow.py::test_p14_p_balance_math PASSED [ 93%]
tests/proof_engine/test_p14_power_flow.py::test_p14_q_balance_math PASSED [ 93%]
tests/proof_engine/test_p14_power_flow.py::test_p14_voltage_range_check PASSED [ 93%]
tests/proof_engine/test_p14_power_flow.py::test_p14_voltage_warning_for_out_of_range PASSED [ 93%]
tests/proof_engine/test_p14_power_flow.py::test_p14_units_pass PASSED    [ 93%]
tests/proof_engine/test_p14_power_flow.py::test_p14_json_determinism PASSED [ 94%]
tests/proof_engine/test_p14_power_flow.py::test_p14_step_count PASSED    [ 94%]
tests/proof_engine/test_p14_power_flow.py::test_p14_header_content PASSED [ 94%]
tests/proof_engine/test_p14_power_flow.py::test_p14_overall_status_pass PASSED [ 94%]
tests/proof_engine/test_p14_power_flow.py::test_p14_overall_status_warn PASSED [ 94%]
tests/proof_engine/test_p16_losses.py::test_loss_registry_ids_exist PASSED [ 94%]
tests/proof_engine/test_p16_losses.py::test_loss_step_order_deterministic PASSED [ 94%]
tests/proof_engine/test_p16_losses.py::test_loss_equations_dict PASSED   [ 94%]
tests/proof_engine/test_p16_losses.py::test_p16_proof_generation PASSED  [ 94%]
tests/proof_engine/test_p16_losses.py::test_p16_total_p_losses PASSED    [ 94%]
tests/proof_engine/test_p16_losses.py::test_p16_total_q_losses PASSED    [ 94%]
tests/proof_engine/test_p16_losses.py::test_p16_loss_percent_calculation PASSED [ 94%]
tests/proof_engine/test_p16_losses.py::test_p16_branch_count PASSED      [ 94%]
tests/proof_engine/test_p16_losses.py::test_p16_max_branch_steps_limit PASSED [ 94%]
tests/proof_engine/test_p16_losses.py::test_p16_units_pass PASSED        [ 95%]
tests/proof_engine/test_p16_losses.py::test_p16_json_determinism PASSED  [ 95%]
tests/proof_engine/test_p16_losses.py::test_p16_header_content PASSED    [ 95%]
tests/proof_engine/test_p16_losses.py::test_p16_overall_status PASSED    [ 95%]
tests/proof_engine/test_p16_losses.py::test_p16_zero_generation PASSED   [ 95%]
tests/proof_engine/test_p16_losses.py::test_p16_steps_include_branch_losses PASSED [ 95%]
tests/proof_engine/test_p16_losses.py::test_p16_eq_symbols PASSED        [ 95%]
tests/proof_engine/test_proof_engine.py::TestSC3FProofGenerator::test_generate_sc3f_proof_returns_proof_document PASSED [ 95%]
tests/proof_engine/test_proof_engine.py::TestSC3FProofGenerator::test_sc3f_proof_has_required_steps PASSED [ 95%]
tests/proof_engine/test_proof_engine.py::TestSC3FProofGenerator::test_sc3f_proof_step_numbers_are_sequential PASSED [ 95%]
tests/proof_engine/test_proof_engine.py::TestSC3FProofGenerator::test_sc3f_proof_all_unit_checks_pass PASSED [ 95%]
tests/proof_engine/test_proof_engine.py::TestSC3FProofGenerator::test_sc3f_proof_key_results_present PASSED [ 95%]
tests/proof_engine/test_proof_engine.py::TestSC3FProofGenerator::test_sc3f_proof_idyn_equals_ip PASSED [ 95%]
tests/proof_engine/test_proof_engine.py::TestVDROPProofGenerator::test_generate_vdrop_proof_returns_proof_document PASSED [ 95%]
tests/proof_engine/test_proof_engine.py::TestVDROPProofGenerator::test_vdrop_proof_has_required_steps PASSED [ 95%]
tests/proof_engine/test_proof_engine.py::TestVDROPProofGenerator::test_full_vdrop_proof_pipeline PASSED [ 96%]
tests/proof_engine/test_proof_engine.py::TestVDROPProofGenerator::test_vdrop_determinism PASSED [ 96%]
tests/proof_engine/test_proof_engine.py::TestVDROPProofGenerator::test_vdrop_unit_checks_pass PASSED [ 96%]
tests/proof_engine/test_proof_engine.py::TestSC1ProofGenerator::test_sc1_registry_ids_exist PASSED [ 96%]
tests/proof_engine/test_proof_engine.py::TestSC1ProofGenerator::test_sc1_step_order_defined PASSED [ 96%]
tests/proof_engine/test_proof_engine.py::TestSC1ProofGenerator::test_sc1_proof_document_builds PASSED [ 96%]
tests/proof_engine/test_proof_engine.py::TestProofDeterminism::test_sc3f_json_determinism PASSED [ 96%]
tests/proof_engine/test_proof_engine.py::TestProofDeterminism::test_sc3f_latex_determinism PASSED [ 96%]
tests/proof_engine/test_proof_engine.py::TestProofDeterminism::test_step_order_is_stable PASSED [ 96%]
tests/proof_engine/test_proof_engine.py::TestLoadCurrentsProofGenerator::test_lc_step_order_is_stable PASSED [ 96%]
tests/proof_engine/test_proof_engine.py::TestLoadCurrentsProofGenerator::test_lc_proof_has_required_steps PASSED [ 96%]
tests/proof_engine/test_proof_engine.py::TestLoadCurrentsProofGenerator::test_lc_units_pass_for_typical_case PASSED [ 96%]
tests/proof_engine/test_proof_engine.py::TestLoadCurrentsProofGenerator::test_lc_proof_transformer_builds PASSED [ 96%]
tests/proof_engine/test_proof_engine.py::TestLoadCurrentsProofGenerator::test_lc_header_includes_target_and_kind PASSED [ 96%]
tests/proof_engine/test_proof_engine.py::TestLoadCurrentsProofGenerator::test_lc_determinism_json PASSED [ 96%]
tests/proof_engine/test_proof_engine.py::TestLoadCurrentsProofGenerator::test_lc_counterfactual_diff_fields PASSED [ 97%]
tests/proof_engine/test_proof_engine.py::TestEquationRegistry::test_all_sc3f_equations_exist PASSED [ 97%]
tests/proof_engine/test_proof_engine.py::TestEquationRegistry::test_all_vdrop_equations_exist PASSED [ 97%]
tests/proof_engine/test_proof_engine.py::TestEquationRegistry::test_equation_has_required_fields PASSED [ 97%]
tests/proof_engine/test_proof_engine.py::TestEquationRegistry::test_id_stability PASSED [ 97%]
tests/proof_engine/test_proof_engine.py::TestEquationRegistry::test_all_symbols_have_mapping_keys PASSED [ 97%]
tests/proof_engine/test_proof_engine.py::TestUnitVerifier::test_sc3f_004_unit_derivation PASSED [ 97%]
tests/proof_engine/test_proof_engine.py::TestUnitVerifier::test_vdrop_003_unit_derivation PASSED [ 97%]
tests/proof_engine/test_proof_engine.py::TestUnitVerifier::test_dimensionless_verification PASSED [ 97%]
tests/proof_engine/test_proof_engine.py::TestIntegration::test_full_sc3f_proof_pipeline PASSED [ 97%]
tests/proof_engine/test_proof_engine.py::TestIntegration::test_proof_matches_solver_result_tolerance PASSED [ 97%]
tests/proof_engine/test_proof_engine.py::TestQUProofGenerator::test_qu_step_order_len_is_5 PASSED [ 97%]
tests/proof_engine/test_proof_engine.py::TestQUProofGenerator::test_qu_proof_has_4_steps PASSED [ 97%]
tests/proof_engine/test_proof_engine.py::TestQUProofGenerator::test_qu_determinism_json PASSED [ 97%]
tests/proof_engine/test_proof_engine.py::TestQUProofGenerator::test_qu_counterfactual_has_diff_fields PASSED [ 98%]
tests/proof_engine/test_proof_engine.py::TestP11_1c_QU_VDROP_Link::test_qu_vdrop_link_step_present PASSED [ 98%]
tests/proof_engine/test_proof_engine.py::TestP11_1c_QU_VDROP_Link::test_qu_vdrop_no_new_equations PASSED [ 98%]
tests/proof_engine/test_proof_engine.py::TestP11_1c_QU_VDROP_Link::test_qu_counterfactual_includes_u_delta PASSED [ 98%]
tests/proof_engine/test_proof_engine.py::TestP11_1c_QU_VDROP_Link::test_qu_proof_without_vdrop_has_4_steps PASSED [ 98%]
tests/proof_engine/test_proof_engine.py::TestP11_1c_QU_VDROP_Link::test_eq_qu_005_is_link_only PASSED [ 98%]
tests/proof_engine/test_proof_engine.py::TestP11_1c_QU_VDROP_Link::test_latex_renders_vdrop_link_section PASSED [ 98%]
tests/proof_engine/test_proof_engine.py::TestP11_1c_QU_VDROP_Link::test_latex_renders_counterfactual_u_table PASSED [ 98%]
tests/proof_engine/test_proof_pack.py::test_proof_pack_is_deterministic PASSED [ 98%]
tests/proof_engine/test_proof_pack.py::test_proof_pack_contains_expected_files PASSED [ 98%]
tests/proof_engine/test_proof_pack.py::test_proof_pack_manifest_contains_hashes PASSED [ 98%]
tests/proof_engine/test_proof_pack.py::test_signature_json_present_in_zip PASSED [ 98%]
tests/proof_engine/test_proof_pack.py::test_signature_json_deterministic PASSED [ 98%]
tests/proof_engine/test_proof_pack.py::test_signature_matches_files_hashes PASSED [ 98%]
tests/proof_engine/test_protection_proof.py::test_protection_proof_type PASSED [ 98%]
tests/proof_engine/test_protection_proof.py::test_protection_registry_ids_exist PASSED [ 99%]
tests/proof_engine/test_protection_proof.py::test_protection_step_order_deterministic PASSED [ 99%]
tests/proof_engine/test_protection_proof.py::test_protection_comparisons PASSED [ 99%]
tests/proof_engine/test_protection_proof.py::test_protection_unit_checks_pass PASSED [ 99%]
tests/proof_engine/test_protection_proof.py::test_protection_json_determinism PASSED [ 99%]
tests/proof_engine/test_protection_proof.py::test_protection_missing_data_warning PASSED [ 99%]
tests/proof_engine/test_protection_proof.py::test_protection_inspector_view PASSED [ 99%]
tests/proof_engine/test_sc1_full.py::test_sc1_units_all_pass[ONE_PHASE_TO_GROUND] PASSED [ 99%]
tests/proof_engine/test_sc1_full.py::test_sc1_units_all_pass[TWO_PHASE] PASSED [ 99%]
tests/proof_engine/test_sc1_full.py::test_sc1_units_all_pass[TWO_PHASE_TO_GROUND] PASSED [ 99%]
tests/proof_engine/test_sc1_full.py::test_sc1fZ_has_required_steps_and_results PASSED [ 99%]
tests/proof_engine/test_sc1_full.py::test_sc2f_has_required_steps_and_results PASSED [ 99%]
tests/proof_engine/test_sc1_full.py::test_sc2fZ_has_required_steps_and_results PASSED [ 99%]
tests/proof_engine/test_sc1_full.py::test_sc1_determinism_json PASSED    [ 99%]
tests/proof_engine/test_sc1_full.py::test_sc1_terminology_polish PASSED  [100%]

================= 1454 passed, 5 skipped, 4 xpassed in 37.96s =================
